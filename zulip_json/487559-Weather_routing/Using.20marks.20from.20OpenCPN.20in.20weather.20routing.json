[
    {
        "content": "<p>I am proposing to simplify \"position\" management in the weather routing plugin.  This would eliminate having a copy of the list positions in the plugin. Instead, the plugin would use the marks that have been configured in OpenCPN core directly.</p>\n<p><a href=\"https://github.com/rgleason/weather_routing_pi/issues/221\">https://github.com/rgleason/weather_routing_pi/issues/221</a></p>\n<p>I am seeking feedback on ideas, historical context and opinions before I do anything.<br>\nThank you. Sebastien</p>",
        "id": 507341350,
        "sender_full_name": "Sebastien Rosset",
        "timestamp": 1742581265
    },
    {
        "content": "<p>This is a great idea.  I've been confused by the multiple stores on many occasions, and removing the duplication has been on my todo list too.  I will take a look at the detail of your proposal.  Another aspect that comes to mind is the ability to directly use locations stored in the vector charts.  Right now, to route from Harbor A to Harbor B, one has to create redundant markers for Harbor A and Harbor B, even if those are very well-defined locations in the vector charts.  I'll add all my consolidated comments to issue 221.</p>",
        "id": 507373098,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1742593613
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"881165\">@Quinton Hoole</span> <span class=\"user-mention\" data-user-id=\"813668\">@Sebastien Rosset</span>  RE Testing<br>\nI had an idea we could try. from \"improve\" branch, Git checkout \"test\" <br>\nThe make a PR to \"test\" and see how it builds.<br>\nLet's do that now ok. I think I can handle it using Quinton's fork.</p>\n<p>Also we have WR 1.15.21.22 now with 13 builds and just 3 fails.<br>\nShould I push that up to plugin beta catalog?</p>\n<p>The deploy landed here in Cloudsmith (with a search just for the 1.15.21.22 + tarball<br>\n<a href=\"https://cloudsmith.io/~opencpn/repos/weather-routing-beta/packages/?q=1.15.21.22+tarball\">https://cloudsmith.io/~opencpn/repos/weather-routing-beta/packages/?q=1.15.21.22+tarball</a></p>\n<p>You can download the right file for your OS and \"Import Tarball\"</p>\n<p>By the way, I've created Browser bookmarks in a dropdown menu for all the urls I need for Opencpn, plugins, CI builds etc. It is all in one place. Then with PW management on it gets easier.</p>",
        "id": 508966663,
        "sender_full_name": "Rick Gleason",
        "timestamp": 1743290134
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/508966663\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"881165\">Quinton Hoole</span> <span class=\"user-mention silent\" data-user-id=\"813668\">Sebastien Rosset</span>  RE Testing<br>\nI had an idea we could try. from \"improve\" branch, Git checkout \"test\" <br>\nThe make a PR to \"test\" and see how it builds.<br>\nLet's do that now ok. I think I can handle it using Quinton's fork.</p>\n</blockquote>\n<p>Thanks Rick.  I think that's already happening with my PR 230 (<a href=\"https://github.com/rgleason/weather_routing_pi/pull/230\">https://github.com/rgleason/weather_routing_pi/pull/230</a>)?</p>\n<p>Or perhaps you're planning to add more stuff to the \"test\" branch you're proposing?</p>",
        "id": 508967647,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743291049
    },
    {
        "content": "<p>Actually, see below.</p>\n<p><a href=\"https://github.com/sebastien-rosset\">@sebastien-rosset</a> <a href=\"https://github.com/quinton-hoole\">@quinton-hoole</a> I have not merged this. Please do not merge it.<br>\nI have created a new branch called \"test\" which I have already <strong>merged</strong> with a new PR Quinton's from his remote improve branch. See <a href=\"https://github.com/rgleason/weather_routing_pi/pull/252\">#252</a></p>\n<p>I may close this request to merge with my \"improve\" branch depending on what we find out.</p>\n<p>You will find the built files (metadata and tarball) in cloudsmith weather-routing-alpha.  Search on 1.15.21.22 (space) tarball and download it and then from inside Opencpn  Options&gt;Pl &gt; Import Plugin Tarball.</p>\n<p>You many need to set the catalog to expert  (Search on the FAQs in the Wiki for how to do that.</p>",
        "id": 508977596,
        "sender_full_name": "Rick Gleason",
        "timestamp": 1743299036
    },
    {
        "content": "<p>Thanks Rick <span aria-label=\"call me\" class=\"emoji emoji-1f919\" role=\"img\" title=\"call me\">:call_me:</span></p>",
        "id": 508984058,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743304324
    },
    {
        "content": "<p>My first merged OpenCPN PR.  I might just celebrate with a beer :-)</p>",
        "id": 508984119,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743304393
    },
    {
        "content": "<p>I've made several fixes and enhancements:</p>\n<ol>\n<li>Fix compiler warnings and errors.</li>\n<li>Add penalty for jibes</li>\n<li>Add count of jibes. I was surprised it wasn't counted previously.</li>\n<li>Refactor code and improve code comments</li>\n<li>Improve labels in the \"plot\" dialog to make them more intuitive.</li>\n<li>Identified some follow-up tasks.</li>\n</ol>\n<p>I will merge soon: <a href=\"https://github.com/rgleason/weather_routing_pi/pull/253\">https://github.com/rgleason/weather_routing_pi/pull/253</a></p>",
        "id": 509045033,
        "sender_full_name": "Sebastien Rosset",
        "timestamp": 1743352924
    },
    {
        "content": "<p>Names like \"Wind velocity\" were driving me crazy because it was very ambiguous. Which kind of wind velocity?</p>",
        "id": 509045113,
        "sender_full_name": "Sebastien Rosset",
        "timestamp": 1743352992
    },
    {
        "content": "<p>Awesome! <span aria-label=\"sunglasses\" class=\"emoji emoji-1f60e\" role=\"img\" title=\"sunglasses\">:sunglasses:</span></p>",
        "id": 509050751,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743357495
    },
    {
        "content": "<p>If itâ€™s helpful I could spend some time over the next few hours doing a code review?</p>",
        "id": 509051191,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743357781
    },
    {
        "content": "<p>Sure that would be great. I merged, but Ill make whatever changes are necessary.</p>",
        "id": 509052132,
        "sender_full_name": "Sebastien Rosset",
        "timestamp": 1743358511
    },
    {
        "content": "<p>It sometimes helps to have a second pair of eyes on things.</p>",
        "id": 509052181,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743358562
    },
    {
        "content": "<p>Right now I'm in a phase where one change triggers the discovery of 3 more changes... :-)</p>",
        "id": 509052231,
        "sender_full_name": "Sebastien Rosset",
        "timestamp": 1743358575
    },
    {
        "content": "<p>Yes, I suspected that might be the case. We'll get there though.</p>",
        "id": 509052258,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743358609
    },
    {
        "content": "<p>tTerminology</p>\n<p>NOTE: All of these terms are defined and illustrated in Tactics_pi documentation found by going to here in the OpenCPN Wiki <a href=\"https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:manual_basic:set_options:plugin_manager\">https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:manual_basic:set_options:plugin_manager</a></p>\n<p>Finding Tactics Link under Sailing<br>\nand going to <a href=\"https://opencpn-manuals.github.io/main/tactics/index.html\">https://opencpn-manuals.github.io/main/tactics/index.html</a><br>\nThese terms and used extensively and explained. The terminlology page is here<br>\n<a href=\"https://opencpn-manuals.github.io/main/tactics/index.html#_4_terminology\">https://opencpn-manuals.github.io/main/tactics/index.html#_4_terminology</a></p>\n<p>The last page has my favorite diagram which is quite visual.<br>\n<a href=\"https://opencpn-manuals.github.io/main/tactics/index.html#_7_tactics_faq\">https://opencpn-manuals.github.io/main/tactics/index.html#_7_tactics_faq</a></p>\n<p>Please keep all the terminology in conformance with the Tactics plugin!!!<br>\nThis is a requirement. If you want to change something of that nature, please discuss it first.. Thanks.  We had many discussions and reached final agreement re terminology, but if you see something wrong please advise me.</p>\n<p>PS Certainly making changes to clarify and conform to standard Terminology is perfectly reasonable and much appreciated. The some of the terminology I heard above is a bit confusing and not really in conformance with the standards.  Look carefully at the diagrams at the bottom please.</p>\n<p>I don't believe that Sean has done anything that is different than these terms and diagram. I believe that WR conforms with these terms!!!</p>",
        "id": 509073262,
        "sender_full_name": "Rick Gleason",
        "timestamp": 1743376353
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509073262\">said</a>:</p>\n<blockquote>\n<p>Terminology</p>\n<p>NOTE: All of these terms are defined and illustrated in Tactics_pi documentation found by going to here in the OpenCPN Wiki <a href=\"https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:manual_basic:set_options:plugin_manager\">https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:manual_basic:set_options:plugin_manager</a></p>\n<p>Finding Tactics Link under Sailing<br>\nand going to <a href=\"https://opencpn-manuals.github.io/main/tactics/index.html\">https://opencpn-manuals.github.io/main/tactics/index.html</a><br>\nThese terms and used extensively and explained. The terminlology page is here<br>\n<a href=\"https://opencpn-manuals.github.io/main/tactics/index.html#_4_terminology\">https://opencpn-manuals.github.io/main/tactics/index.html#_4_terminology</a></p>\n<p>The last page has my favorite diagram which is quite visual.<br>\n<a href=\"https://opencpn-manuals.github.io/main/tactics/index.html#_7_tactics_faq\">https://opencpn-manuals.github.io/main/tactics/index.html#_7_tactics_faq</a></p>\n<p>Please keep all the terminology in conformance with the Tactics plugin!!!<br>\nThis is a requirement. If you want to change something of that nature, please discuss it first.. Thanks.  We had many discussions and reached final agreement re terminology, but if you see something wrong please advise me.</p>\n<p>PS Certainly making changes to clarify and conform to standard Terminology is perfectly reasonable and much appreciated. The some of the terminology I heard above is a bit confusing and not really in conformance with the standards.</p>\n</blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"399865\">@Rick Gleason</span> </p>\n<p>I think the following comment I made on Sebastien's code sums up a useful point.  I'll copy it here for further discussion:</p>\n<p>I'm not sure what the right answer is here, but it seems like there are a few different ways we could approach naming in general here:</p>\n<ol>\n<li>Use commonly understood terms, even if they are confusing and/or inconsistent. e.g. is SPEED_OVER_GROUND the speed of the boat, the speed of the wind, the speed of the water, or the speed of something else? Convention says that it's the speed of the boat of course, but it's clearly ambiguous.</li>\n<li>Use a systematic and correct way of describing these things, for example (using most significant term &gt; least significant term, but this could be changed):<br>\n  BOAT_SPEED_OVER_GROUND<br>\n  WIND_SPEED_OVER_GROUND<br>\n  WIND_DIRECTION_OVER_WATER<br>\n  etc.</li>\n</ol>",
        "id": 509073755,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743376838
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"881165\">@Quinton Hoole</span>  <span class=\"user-mention\" data-user-id=\"813668\">@Sebastien Rosset</span> </p>\n<p>The merged \"test\" branch build successfully built 13 OS.  That is the same as the \"improve\" branch.  </p>\n<p>I am willing to merge Quinton's test commit into the \"improve\" branch.  What do you guys think?  Seriously?</p>\n<p>Also I would really appreciate a little training and assistance on getting the tests running on Windows.  I tried this for celestial_nav and was not successful. I believe I have installed gtest, but perhaps that ought to be checked first.</p>",
        "id": 509074513,
        "sender_full_name": "Rick Gleason",
        "timestamp": 1743377568
    },
    {
        "content": "<p>I have some more cleanup of my PR to do. But I could do that in a separate PR. It makes no difference to me. </p>\n<p>Have my changes, in their current state in the improve branch in my repo, built correctly on all oSâ€™s? If so, I think you can safely merge it. If no, I wouldnâ€™t.</p>",
        "id": 509074735,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743377786
    },
    {
        "content": "<p>Quinton Did you look and read above?</p>",
        "id": 509074842,
        "sender_full_name": "Rick Gleason",
        "timestamp": 1743377888
    },
    {
        "content": "<p>Yes I have tried to align both the code and the user facing labels with the<br>\nstandard sailing terminology.<br>\nIt wasn't easy because some of the labels were quite obscure. For example<br>\nwhen a label is \"wind velocity\" or even just \"V\", it takes quite a bit of<br>\nwork to really understand what it means.</p>\n<p>My strategy is to incrementally improve as I discover how it works. I had<br>\nto reverse engineer the algorithms. I did make a couple mistakes along the<br>\nway, and then I fixed them.<br>\nIf you find problems, let me know.</p>\n<p>There is one really big difference with the tactics plugin: the tactics<br>\nplugin is all about measurements from real instruments. Whereas the WR is<br>\nall about predicting values. And sometimes there is just no matching<br>\nterminology.</p>",
        "id": 509074843,
        "sender_full_name": "Sebastien Rosset",
        "timestamp": 1743377888
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509074842\">said</a>:</p>\n<blockquote>\n<p>Quinton Did you look and read above?</p>\n</blockquote>\n<p>Yes.  But to be honest, I didn't fully understand what you meant.  It's unclear.</p>",
        "id": 509074860,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743377917
    },
    {
        "content": "<blockquote>\n<p>There is one really big difference with the tactics plugin: the tactics<br>\nplugin is all about measurements from real instruments. Whereas the WR is<br>\nall about predicting values. And sometimes there is just no matching<br>\nterminology.</p>\n</blockquote>\n<p>Understood, perhaps we should be making a list of those differences  and develop the added Terminology?  And put it in the Plugin Manual... just the differences.</p>",
        "id": 509074995,
        "sender_full_name": "Rick Gleason",
        "timestamp": 1743378040
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509074513\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"881165\">Quinton Hoole</span>  <span class=\"user-mention silent\" data-user-id=\"813668\">Sebastien Rosset</span> <br>\nAlso I would really appreciate a little training and assistance on getting the tests running on Windows.  I tried this for celestial_nav and was not successful. I believe I have installed gtest, but perhaps that ought to be checked first.</p>\n</blockquote>\n<p>I don't have a Windows machine handy to test, but in theory, you should not need to install gtest, or do anything other than the instructions in the PR. If they don't work, let me know what errors you see, and I'll fix them.</p>",
        "id": 509075140,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743378182
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"881165\">Quinton Hoole</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509073755\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509073262\">said</a>:</p>\n<blockquote>\n<p>Terminology</p>\n<p>NOTE: All of these terms are defined and illustrated in Tactics_pi documentation found by going to here in the OpenCPN Wiki <a href=\"https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:manual_basic:set_options:plugin_manager\">https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:manual_basic:set_options:plugin_manager</a></p>\n<p>Finding Tactics Link under Sailing<br>\nand going to <a href=\"https://opencpn-manuals.github.io/main/tactics/index.html\">https://opencpn-manuals.github.io/main/tactics/index.html</a><br>\nThese terms and used extensively and explained. The terminlology page is here<br>\n<a href=\"https://opencpn-manuals.github.io/main/tactics/index.html#_4_terminology\">https://opencpn-manuals.github.io/main/tactics/index.html#_4_terminology</a></p>\n<p>The last page has my favorite diagram which is quite visual.<br>\n<a href=\"https://opencpn-manuals.github.io/main/tactics/index.html#_7_tactics_faq\">https://opencpn-manuals.github.io/main/tactics/index.html#_7_tactics_faq</a></p>\n<p>Please keep all the terminology in conformance with the Tactics plugin!!!<br>\nThis is a requirement. If you want to change something of that nature, please discuss it first.. Thanks.  We had many discussions and reached final agreement re terminology, but if you see something wrong please advise me.</p>\n<p>PS Certainly making changes to clarify and conform to standard Terminology is perfectly reasonable and much appreciated. The some of the terminology I heard above is a bit confusing and not really in conformance with the standards.</p>\n</blockquote>\n<p>Thanks <span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> </p>\n<p>I think the following comment I made on Sebastien's code sums up a useful point.  I'll copy it here for further discussion:</p>\n<p>I'm not sure what the right answer is here, but it seems like there are a few different ways we could approach naming in general here:</p>\n<ol>\n<li>Use commonly understood terms, even if they are confusing and/or inconsistent. e.g. is SPEED_OVER_GROUND the speed of the boat, the speed of the wind, the speed of the water, or the speed of something else? Convention says that it's the speed of the boat of course, but it's clearly ambiguous.</li>\n<li>Use a systematic and correct way of describing these things, for example (using most significant term &gt; least significant term, but this could be changed):<br>\n  BOAT_SPEED_OVER_GROUND<br>\n  WIND_SPEED_OVER_GROUND<br>\n  WIND_DIRECTION_OVER_WATER<br>\n  etc.</li>\n</ol>\n</blockquote>\n<p>I'm not sure about that one. \"SOG\" has a very specific meaning in sailing and everybody uses that term. When people say SOG, it always means the speed of the boat over ground. There is no ambiguity that it could be wind.<br>\nSo when there is a standard term, we should use it and not qualify it, unless somehow there is a really good reason to do so.</p>",
        "id": 509075147,
        "sender_full_name": "Sebastien Rosset",
        "timestamp": 1743378187
    },
    {
        "content": "<blockquote>\n<p>Yes. But to be honest, I didn't fully understand what you meant. It's unclear.</p>\n</blockquote>\n<p>13 built  3 failed , the same as the improve branch. <br>\nSebastien needs to make the necessary fixes to the code to get the 3 that failed to build. I have given the 2 instances where there were errors shown in those builds in CircleCI. I believe those errors are causing the failures.</p>",
        "id": 509075275,
        "sender_full_name": "Rick Gleason",
        "timestamp": 1743378327
    },
    {
        "content": "<p>Similarly, we don't say \"wind speed over ground\". People use TWD, TWS, TWA, etc. <br>\nBTW, I checked my B&amp;G and there are two modes of operations for TWS and TWS: one mode gives the TWD with the ground as a frame of reference, and the other mode gives the values with water as a frame of reference. So yes in that case there can be a bit of ambiguity when people use TWD and TWS.</p>",
        "id": 509075416,
        "sender_full_name": "Sebastien Rosset",
        "timestamp": 1743378476
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509075275\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Yes. But to be honest, I didn't fully understand what you meant. It's unclear.</p>\n</blockquote>\n<p>13 built  3 failed , the same as the improve branch. <br>\nSebastien needs to make the necessary fixes to the code to get the 3 that failed to build. I have given the 2 instances where there were errors shown in those builds in CircleCI. I believe those errors are causing the failures.</p>\n</blockquote>\n<p>I fixed  the SunCalculator.cpp compilation issues yesterday. There were two missing headers. What are the other build failures I need to look at?</p>",
        "id": 509075571,
        "sender_full_name": "Sebastien Rosset",
        "timestamp": 1743378607
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"813668\">Sebastien Rosset</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509075147\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"881165\">Quinton Hoole</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509073755\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509073262\">said</a>:</p>\n<blockquote>\n<p>Terminology</p>\n<p>NOTE: All of these terms are defined and illustrated in Tactics_pi documentation found by going to here in the OpenCPN Wiki <a href=\"https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:manual_basic:set_options:plugin_manager\">https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:manual_basic:set_options:plugin_manager</a></p>\n<p>Finding Tactics Link under Sailing<br>\nand going to <a href=\"https://opencpn-manuals.github.io/main/tactics/index.html\">https://opencpn-manuals.github.io/main/tactics/index.html</a><br>\nThese terms and used extensively and explained. The terminlology page is here<br>\n<a href=\"https://opencpn-manuals.github.io/main/tactics/index.html#_4_terminology\">https://opencpn-manuals.github.io/main/tactics/index.html#_4_terminology</a></p>\n<p>The last page has my favorite diagram which is quite visual.<br>\n<a href=\"https://opencpn-manuals.github.io/main/tactics/index.html#_7_tactics_faq\">https://opencpn-manuals.github.io/main/tactics/index.html#_7_tactics_faq</a></p>\n<p>Please keep all the terminology in conformance with the Tactics plugin!!!<br>\nThis is a requirement. If you want to change something of that nature, please discuss it first.. Thanks.  We had many discussions and reached final agreement re terminology, but if you see something wrong please advise me.</p>\n<p>PS Certainly making changes to clarify and conform to standard Terminology is perfectly reasonable and much appreciated. The some of the terminology I heard above is a bit confusing and not really in conformance with the standards.</p>\n</blockquote>\n<p>Thanks <span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> </p>\n<p>I think the following comment I made on Sebastien's code sums up a useful point.  I'll copy it here for further discussion:</p>\n<p>I'm not sure what the right answer is here, but it seems like there are a few different ways we could approach naming in general here:</p>\n<ol>\n<li>Use commonly understood terms, even if they are confusing and/or inconsistent. e.g. is SPEED_OVER_GROUND the speed of the boat, the speed of the wind, the speed of the water, or the speed of something else? Convention says that it's the speed of the boat of course, but it's clearly ambiguous.</li>\n<li>Use a systematic and correct way of describing these things, for example (using most significant term &gt; least significant term, but this could be changed):<br>\n  BOAT_SPEED_OVER_GROUND<br>\n  WIND_SPEED_OVER_GROUND<br>\n  WIND_DIRECTION_OVER_WATER<br>\n  etc.</li>\n</ol>\n</blockquote>\n<p>I'm not sure about that one. \"SOG\" has a very specific meaning in sailing and everybody uses that term. When people say SOG, it always means the speed of the boat over ground. There is no ambiguity that it could be wind.<br>\nSo when there is a standard term, we should use it and not qualify it, unless somehow there is a really good reason to do so.</p>\n</blockquote>\n<p>For the UI, I think you're absolutely right.  For variable names in the code, I think it's worth thinking about. Not only for a particular variable like SOG, but also more generally. If I'm writing code, and I need two variables, one to represent boat speed over ground, and another to represent wind speed over ground, what should the two variable names be?  If we follow <a href=\"https://github.com/opencpn/OpenCPN/issues/2\">#2</a> above it's obvious (BOAT_SPEED_OVER_GROUND and WIND_SPEED_OVER_GROUND).  If we follow # 1 above, it's less clear. SOG and TWS?  As we've determined, TWS is ambiguous, so it could mean WIND_SPEED_OVER_WATER or WIND_SPEED_OVER_GROUND.  So now we need to make up a non-ambiguous term for it. </p>\n<p>I'm not wedded to either system, but I don't think that the answer is trivially that we should use <a href=\"https://github.com/opencpn/OpenCPN/issues/1\">#1</a>, because it's both internally inconsistent, and ambiguous, so then you need to augment it with other rules to solve those problems.</p>",
        "id": 509075716,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743378744
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509075275\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Yes. But to be honest, I didn't fully understand what you meant. It's unclear.</p>\n</blockquote>\n<p>13 built  3 failed , the same as the improve branch. <br>\nSebastien needs to make the necessary fixes to the code to get the 3 that failed to build. I have given the 2 instances where there were errors shown in those builds in CircleCI. I believe those errors are causing the failures.</p>\n</blockquote>\n<p>OK, then let me merge Sebastien's changes into my PR, then all the builds should succedd, then you can merge it. I can do that right now.</p>",
        "id": 509075839,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743378897
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"813668\">Sebastien Rosset</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509075416\">said</a>:</p>\n<blockquote>\n<p>Similarly, we don't say \"wind speed over ground\". People use TWD, TWS, TWA, etc. <br>\nBTW, I checked my B&amp;G and there are two modes of operations for TWS and TWS: one mode gives the TWD with the ground as a frame of reference, and the other mode gives the values with water as a frame of reference. So yes in that case there can be a bit of ambiguity when people use TWD and TWS.</p>\n</blockquote>\n<p>Yes, that's exactly my point. I think the reason you originally started renaming things is that some of the terms were ambiguous.  I agree, and I think it's a good idea to remove all ambiguity.</p>",
        "id": 509076411,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743379330
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"881165\">Quinton Hoole</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509075839\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509075275\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Yes. But to be honest, I didn't fully understand what you meant. It's unclear.</p>\n</blockquote>\n<p>13 built  3 failed , the same as the improve branch. <br>\nSebastien needs to make the necessary fixes to the code to get the 3 that failed to build. I have given the 2 instances where there were errors shown in those builds in CircleCI. I believe those errors are causing the failures.</p>\n</blockquote>\n<p>OK, then let me merge Sebastien's changes into my PR, then all the builds should succedd, then you can merge it. I can do that right now.</p>\n</blockquote>\n<p>Apologies for the delay. I've merged the build/compile fixes that Sebastien committed to rgleason/improve into my PR.  The checks are now running.  Hopefully all the builds will succeed, although I'm not sure they will.</p>\n<p><a href=\"https://github.com/rgleason/weather_routing_pi/pull/230/checks\">https://github.com/rgleason/weather_routing_pi/pull/230/checks</a></p>",
        "id": 509077872,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743380538
    },
    {
        "content": "<blockquote>\n<p>Use a systematic and correct way of describing these things, for example (using most significant term &gt; least significant term, but this could be changed):</p>\n</blockquote>\n<p>See   <a href=\"https://opencpn-manuals.github.io/main/tactics/index.html#_7_tactics_faq\">https://opencpn-manuals.github.io/main/tactics/index.html#_7_tactics_faq</a></p>\n<p><strong>Figure 1</strong></p>\n<ul>\n<li>AWS is Apparent Wind Speed relative to Water  (measured by masthead sensor)</li>\n<li>TWS is True Wind Speed relative to water   (calculated)</li>\n<li>Boat Movement through water  -      as measured by thru boat speed sensor and heading instrument</li>\n</ul>\n<p><strong>Figure 2</strong></p>\n<ul>\n<li>BOAT_SPEED_OVER_GROUND     Yes, known as SOG as measured by GPS</li>\n<li>BOAT_COURSE_OVER_GROUND     COG  Course over ground ) as measured by GPS</li>\n<li>GROUND WIND        Equals  True Wind + Set &amp;  Drift,   calculated =  AW when anchored.</li>\n<li>APPARENT WIND     Measured by masthead sensor and compass</li>\n</ul>\n<p><strong>Figure 3</strong></p>\n<ul>\n<li>Boat Movement thru the water  (same as Figure 1)  -  Measured with Speed Thru Hull and heading</li>\n<li>COG &amp; SOG  from GPS  from Figure 2  </li>\n<li>SET  &amp; DRIFT   calculated from the other two vectors.</li>\n</ul>\n<p>This is correct. If there is some difference, for some reason, we should make notes about it.</p>",
        "id": 509078848,
        "sender_full_name": "Rick Gleason",
        "timestamp": 1743381277
    },
    {
        "content": "<p>Yes, that's pretty much the terminology I am converging to. The refactor is not complete and some variables and labels still need to be updated, but at least we are going in the right direction. It will take several more PRs to achieve complete standardization.</p>",
        "id": 509079456,
        "sender_full_name": "Sebastien Rosset",
        "timestamp": 1743381769
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"881165\">Quinton Hoole</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509077872\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"881165\">Quinton Hoole</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509075839\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509075275\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Yes. But to be honest, I didn't fully understand what you meant. It's unclear.</p>\n</blockquote>\n<p>13 built  3 failed , the same as the improve branch. <br>\nSebastien needs to make the necessary fixes to the code to get the 3 that failed to build. I have given the 2 instances where there were errors shown in those builds in CircleCI. I believe those errors are causing the failures.</p>\n</blockquote>\n<p>OK, then let me merge Sebastien's changes into my PR, then all the builds should succedd, then you can merge it. I can do that right now.</p>\n</blockquote>\n<p>Apologies for the delay. I've merged the build/compile fixes that Sebastien committed to rgleason/improve into my PR.  The checks are now running.  Hopefully all the builds will succeed, although I'm not sure they will.</p>\n<p><a href=\"https://github.com/rgleason/weather_routing_pi/pull/230/checks\">https://github.com/rgleason/weather_routing_pi/pull/230/checks</a></p>\n</blockquote>\n<p>10 of the 13 checks still appear to be failing.  Sebastien's compile errors seem to have been resolved, but the other reasons are the same as before:</p>\n<ol>\n<li>CLOUDSMITH_API_KEY: CLOUDSMITH_API_KEY must be set in the build environment</li>\n<li>badTimezone: invalid author/committer line - bad time zone</li>\n</ol>",
        "id": 509079489,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743381806
    },
    {
        "content": "<p>Here is the cause of the bad time zone error.  That time zone -40643156 is clearly not right.  We might have to rewrite the git history.  I think I can figure out how to do that if you like?<br>\nStrangely enough the error does not occur on Windows or Mac, only on the other OS's.  </p>\n<p>commit <a href=\"https://github.com/opencpn/OpenCPN/commit/23c07cc5d2be7ce68349f4b3719b6fa6fe90e0bf\">23c07cc5d2be7ce68349f4b3719b6fa6fe90e0bf</a> (<strong>tag: year</strong>, <strong>tag: show</strong>)<br>\nAuthor: Sean D'Epagnier &lt;<a href=\"mailto:seandepagnier@gmail.com\">seandepagnier@gmail.com</a>&gt;<br>\nDate: Â  Sun Feb 7 06:28:56 2106 -40643156<br>\nÂ  Â  ui updates and other changes</p>",
        "id": 509080110,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743382321
    },
    {
        "content": "<p>I guess it's also possible that there is a bad/old/invalid git installation on the non-Windows non-Mac build containers/VM's/images.</p>",
        "id": 509080272,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743382437
    },
    {
        "content": "<p>Based on following, it seems that we might have set  fsckobjects=true in .gitconfig on those build images.</p>\n<p><a href=\"https://github.com/psf/requests/issues/3088\">https://github.com/psf/requests/issues/3088</a></p>\n<p>Unsetting that might be an easier fix than rewriting the git history.</p>",
        "id": 509081848,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743383593
    },
    {
        "content": "<p>This is possibly a better fix...</p>\n<p><a href=\"https://github.com/psf/requests/pull/5755\">https://github.com/psf/requests/pull/5755</a></p>",
        "id": 509082165,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743383813
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509075275\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Yes. But to be honest, I didn't fully understand what you meant. It's unclear.</p>\n</blockquote>\n<p>13 built  3 failed , the same as the improve branch. </p>\n</blockquote>\n<p>I guess you meant 3 built, 10 failed?  Or maybe it was different yesterday.  I'm confused.<br>\n<a href=\"https://github.com/rgleason/weather_routing_pi/pull/252/checks\">https://github.com/rgleason/weather_routing_pi/pull/252/checks</a></p>",
        "id": 509082549,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743384060
    },
    {
        "content": "<p>Sebastion made the changes I requested earlier to SunCalculate.h<br>\n#include &lt;vector&gt;<br>\n#include &lt;algorithm&gt;</p>\n<p>and what happened ?  All 16 completed.<br>\nSee <a href=\"https://github.com/rgleason/weather_routing_pi/tree/improve\">https://github.com/rgleason/weather_routing_pi/tree/improve</a></p>\n<p>So that fixed all the problems.  Also TestPlugin builds all 16, so the build problems are fixed right now.</p>\n<p>I've made a fresh  \"test2\" branch from my \"improve\" branch with Sebastien's last commit that builds all 16.</p>\n<p>What is wrong with the \"test\" plugin code I wonder.?<br>\nCan you  git clone  the rgleason/test2 branch  to a fresh local repo?<br>\nThen get all of your test code onto that?<br>\nThen Build it locally and make sure it works.<br>\nThen make  a PR to the <a href=\"http://github.com/rgleason/weather_routing_pi/test2\">github.com/rgleason/weather_routing_pi/test2</a> branch?</p>\n<p>Lets see what happens.</p>",
        "id": 509082876,
        "sender_full_name": "Rick Gleason",
        "timestamp": 1743384278
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"399865\">Rick Gleason</span> <a href=\"#narrow/channel/487559-Weather_routing/topic/Using.20marks.20from.20OpenCPN.20in.20weather.20routing/near/509082876\">said</a>:</p>\n<blockquote>\n<p>Sebastion made the changes I requested earlier to SunCalculate.h<br>\n#include &lt;vector&gt;<br>\n#include &lt;algorithm&gt;</p>\n<p>and what happened ?  All 16 completed.<br>\nSee <a href=\"https://github.com/rgleason/weather_routing_pi/tree/improve\">https://github.com/rgleason/weather_routing_pi/tree/improve</a></p>\n<p>So that fixed all the problems.  Also TestPlugin builds all 16, so the build problems are fixed right now.</p>\n<p>I've made a fresh  \"test2\" branch from my \"improve\" branch with Sebastien's last commit that builds all 16.</p>\n<p>What is wrong with the \"test\" plugin code I wonder.?<br>\nCan you  git clone  the rgleason/test2 branch  to a fresh local repo?<br>\nThen get all of your test code onto that?<br>\nThen Build it locally and make sure it works.<br>\nThen make  a PR to the <a href=\"http://github.com/rgleason/weather_routing_pi/test2\">github.com/rgleason/weather_routing_pi/test2</a> branch?</p>\n<p>Lets see what happens.</p>\n</blockquote>\n<p>Sure, I can give that a try.</p>",
        "id": 509082970,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743384350
    },
    {
        "content": "<p>Rick, please tell me if I'm being dumb, but as far as I can see, the checks against Sebastien's PR failed in the same way as the checks against my PR?</p>\n<p>These are the checks against Sebastien's PR.  10 of the 13 failed:</p>\n<p><a href=\"https://github.com/rgleason/weather_routing_pi/pull/253/checks\">https://github.com/rgleason/weather_routing_pi/pull/253/checks</a></p>",
        "id": 509083247,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743384517
    },
    {
        "content": "<p>This is what I see...</p>\n<p><a href=\"/user_uploads/33951/pgZXGKphj09ULtTKq4SeNhPk/Screenshot-2025-03-30-at-16.02.48.png\">Screenshot 2025-03-30 at 16.02.48.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/33951/pgZXGKphj09ULtTKq4SeNhPk/Screenshot-2025-03-30-at-16.02.48.png\" title=\"Screenshot 2025-03-30 at 16.02.48.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1450x1498\" src=\"/user_uploads/thumbnail/33951/pgZXGKphj09ULtTKq4SeNhPk/Screenshot-2025-03-30-at-16.02.48.png/840x560.webp\"></a></div>",
        "id": 509083666,
        "sender_full_name": "Quinton Hoole",
        "timestamp": 1743384829
    }
]