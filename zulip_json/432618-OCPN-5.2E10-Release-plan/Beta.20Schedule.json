[
    {
        "content": "<p>Hello gents...<br>\nTime to tighten up the plan for a Beta release date.<br>\nLets go around the horn again and poll status of the code base.  Leaving aside (for the moment) the User Manual refactor and update, who is working on a feature/enhancement/bug-fix that really needs to be in O5.10?</p>\n<p>For me, I'm done with big visible feature-like things.  Plowing through the github issues list, one-by-one.<br>\nOthers?</p>",
        "id": 435622429,
        "sender_full_name": "Dave Register",
        "timestamp": 1714149500
    },
    {
        "content": "<p>I still think I will be able to finish <a href=\"https://github.com/OpenCPN/OpenCPN/issues/3182\">https://github.com/OpenCPN/OpenCPN/issues/3182</a> over the weekend, that is the last bigger thing I am working on for 5.10</p>",
        "id": 435624983,
        "sender_full_name": "Pavel Kalian",
        "timestamp": 1714150414
    },
    {
        "content": "<p>I am actually done, nothing more in the pipe</p>",
        "id": 435658235,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1714165107
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"573239\">@Pavel Kalian</span>  Any news on <a href=\"https://github.com/opencpn/OpenCPN/issues/3182\">#3182</a>?</p>",
        "id": 439842160,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1716304928
    },
    {
        "content": "<p>CirclleCI macOS builds fail because of the brownout before Intel builders are decomisioned next week. Tha catch is they did not make the M1 builders available to the free plans. Let's hope they will and the builds should probably just keep working.</p>",
        "id": 445860649,
        "sender_full_name": "Pavel Kalian",
        "timestamp": 1718892956
    },
    {
        "content": "<p>Just about ready to tag and publish Beta-2.<br>\nStatus check all around, please.<br>\nAny blocking tasks?</p>",
        "id": 446506233,
        "sender_full_name": "Dave Register",
        "timestamp": 1719198751
    },
    {
        "content": "<p>OK. Let us not forget new package build  chain check</p>",
        "id": 446565410,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719222172
    },
    {
        "content": "<p>Now no crash on my Rpi using wizard, so if this was hindering Beta2 it's fixed.</p>",
        "id": 446962677,
        "sender_full_name": "Håkan Svensson",
        "timestamp": 1719339841
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"399510\">@Alec Leamas</span> <br>\n Beta-2 is ready to build.<br>\nTag is \"v5.9.2-beta2\",  on branch v5.9.x.  CCI builds are all clean.<br>\nPlease advise when Beta-2 for bookworm is ready.</p>",
        "id": 448060006,
        "sender_full_name": "Dave Register",
        "timestamp": 1719715503
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"517002\">@Dave Register</span>  I'm on it, starting with the Ubuntu branches</p>",
        "id": 448104010,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719745111
    },
    {
        "content": "<blockquote>\n<p>Beta-2 is ready to build.<br>\nTag is \"v5.9.2-beta2\", on branch v5.9.x. CCI builds are all clean.</p>\n</blockquote>\n<p>hm... that tag does not exist on upstream. Did you forget to push it?  </p>\n<p>Taking a break now,  will need to rebuild sid and noble  (my bad)</p>",
        "id": 448106599,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719747027
    },
    {
        "content": "<blockquote>\n<p>Tag is \"v5.9.2-beta2\", on branch v5.9.x</p>\n</blockquote>\n<p>sidenote: tags are actually unrelated to branches.</p>",
        "id": 448106683,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719747100
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"517002\">@Dave Register</span>  ^^</p>",
        "id": 448106808,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719747172
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"517002\">@Dave Register</span> </p>\n<p>Still asleep? I'll assume that the missing tag is pointing to the tip of the  v5.9..x branch i. .e. <a href=\"https://github.com/opencpn/OpenCPN/commit/b2dfeef58\">b2dfeef58</a></p>",
        "id": 448108366,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719748372
    },
    {
        "content": "<p>Awake now.<br>\nPushed the tag.  Sorry.</p>",
        "id": 448117569,
        "sender_full_name": "Dave Register",
        "timestamp": 1719755992
    },
    {
        "content": "<p>NP,  I made the  correct bet.   stay tuned.</p>",
        "id": 448118371,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719756604
    },
    {
        "content": "<p>I'm out for a couple of hours.  Be back...</p>",
        "id": 448120649,
        "sender_full_name": "Dave Register",
        "timestamp": 1719757242
    },
    {
        "content": "<p>First batch released by  you are ready.</p>\n<p>The branches <code>ubuntu/numbat</code> and <code>ubuntu/jammy</code> are updated and ready for <code>debuild -S</code>.</p>\n<p>Noted that you merged the flathub PR.</p>\n<p>Remaining part is the builds published by me   which eventually will end up in Debian. Taking a break now,  might find time later today.</p>",
        "id": 448125304,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719759925
    },
    {
        "content": "<p>\"ready for <code>debuild -S</code>.\"<br>\nWhere do we build these?</p>",
        "id": 448144317,
        "sender_full_name": "Dave Register",
        "timestamp": 1719768101
    },
    {
        "content": "<p>Alec....<br>\nI still do not understand clearly the planned distribution mechanism for linux.<br>\nI understand that bookworm and derivatives (mainly Jammy) will be by \"official bookworm backports\".<br>\nWhat about Focal and numbats?  Will we host some repo somewhere, ala crabdance?<br>\nOr what?</p>",
        "id": 448192623,
        "sender_full_name": "Dave Register",
        "timestamp": 1719794628
    },
    {
        "content": "<p>We use the PPÅ more or less as today. That is, you make 'debuild -S' which creates a source package and then uploads this using 'dput'.</p>",
        "id": 448201458,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719799332
    },
    {
        "content": "<p>On phone w clumsy fingers :(</p>",
        "id": 448202217,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719799537
    },
    {
        "content": "<p>Nothing changes for Ubuntu users, they use the PPÅ as today.</p>",
        "id": 448202737,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719799670
    },
    {
        "content": "<p>OK, this is all new to me.  Or if we talked before, I lost it...</p>\n<p>Simple thing first.</p>\n<p>dsr@debian:~/Projects/opencpn$ git checkout -b ubuntu/jammy<br>\nSwitched to a new branch 'ubuntu/jammy'<br>\ndsr@debian:~/Projects/opencpn$ git pull github ubuntu/jammy<br>\n.<br>\n.<br>\n.<br>\nFrom github.com:OpenCPN/OpenCPN</p>\n<ul>\n<li>branch                ubuntu/jammy -&gt; FETCH_HEAD</li>\n<li>[new branch]          ubuntu/jammy -&gt; github/ubuntu/jammy<br>\nfatal: refusing to merge unrelated histories</li>\n</ul>\n<p>Hmmm...</p>",
        "id": 448205317,
        "sender_full_name": "Dave Register",
        "timestamp": 1719800690
    },
    {
        "content": "<p>How do I checkout the new branch at the proper tag?</p>",
        "id": 448205506,
        "sender_full_name": "Dave Register",
        "timestamp": 1719800805
    },
    {
        "content": "<p>Short answer: there is no need for that, The branches are at the proper tag, they are already merged. The only things to do are.</p>\n<ol>\n<li><code>debuild -S</code>.- This creates a <em>source.changes</em> file in  the parent directory a k a ..</li>\n<li><code>dput  ppa:bdbcat/opencpn ppa:bdbcat/opencpn  ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.changes</code>. The actual filename willl vary depending on branch</li>\n</ol>",
        "id": 448206596,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719801567
    },
    {
        "content": "<p>I checked out ubuntu/jammy.  HEAD of this branch is several commits beyond the Beta2 tag, now.</p>",
        "id": 448206808,
        "sender_full_name": "Dave Register",
        "timestamp": 1719801715
    },
    {
        "content": "<p>Something wrong with my git-fu.</p>",
        "id": 448206966,
        "sender_full_name": "Dave Register",
        "timestamp": 1719801839
    },
    {
        "content": "<blockquote>\n<p>HEAD of this branch is several commits beyond the Beta2 tag, now.</p>\n</blockquote>\n<p>Yes. But iff you look into it, you will find that the only differences are about the debian/ directory.  The toolchain checks this by comparing the sources with the tarball contents at each build</p>",
        "id": 448207012,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719801848
    },
    {
        "content": "<p>So I can debuild from master HEAD?</p>",
        "id": 448207055,
        "sender_full_name": "Dave Register",
        "timestamp": 1719801887
    },
    {
        "content": "<p>No, you don't have a usable debian/ directory in master. Furthermore, you cannot have since the debian directory differs for noble, jammy, bookworm, sid, etc.</p>",
        "id": 448207118,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719801955
    },
    {
        "content": "<p>Note:  My git commands above failed \"fatal, refusing to merge....<br>\nSo I got nothing, I think.</p>",
        "id": 448207265,
        "sender_full_name": "Dave Register",
        "timestamp": 1719802065
    },
    {
        "content": "<p>Yes. Merges are evil since there is no <code>git merge --abort</code>. I tend to avoid them, rebase is almost always better.</p>",
        "id": 448207426,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719802184
    },
    {
        "content": "<p>The easiest might be to clone again?</p>",
        "id": 448207495,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719802214
    },
    {
        "content": "<p>... if there are problems,  that is.</p>",
        "id": 448207629,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719802323
    },
    {
        "content": "<p>A fresh clone worked, but I'd rather not switch just now.<br>\nWhat went wrong with my original git stuff, and how best to fix?</p>",
        "id": 448208389,
        "sender_full_name": "Dave Register",
        "timestamp": 1719802668
    },
    {
        "content": "<p>It went wrong when you tried to merge. You might be able to fix it using something like <code>git reset --hard origin/ubuntu/noble</code>. I don't know which branch you are on or the name of  your remote so just a sketch</p>\n<p>EDIT: Trying  to improve command</p>",
        "id": 448208701,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719802829
    },
    {
        "content": "<p>I am working on ubuntu/jammy, remote name is \"github\".</p>\n<div class=\"codehilite\"><pre><span></span><code>$ git reset --hard github/ubuntu/jammy\n</code></pre></div>\n\n<p>fixed it.</p>",
        "id": 448209050,
        "sender_full_name": "Dave Register",
        "timestamp": 1719803070
    },
    {
        "content": "<p>OK , great. Now, no more commits, please :)</p>",
        "id": 448209083,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719803108
    },
    {
        "content": "<p>debuild -S fails:</p>\n<p>dsr@debian:~/Projects/opencpn/build_jammy$ debuild -S<br>\ndpkg-buildpackage -us -uc -ui -S<br>\ndpkg-buildpackage: info: source package opencpn<br>\ndpkg-buildpackage: info: source version 5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1<br>\ndpkg-buildpackage: info: source distribution jammy<br>\ndpkg-buildpackage: info: source changed by Alec Leamas &lt;<a href=\"mailto:leamas.alec@gmail.com\">leamas.alec@gmail.com</a>&gt;<br>\ndpkg-source --before-build .<br>\ndebian/rules clean<br>\ndh clean<br>\n  dh_clean<br>\ndpkg-source -b .<br>\ndpkg-source: error: can't build with source format '3.0 (quilt)': no upstream tarball found at ../opencpn_5.9.2-beta2+dfsg.orig.tar.{bz2,gz,lzma,xz}<br>\ndpkg-buildpackage: error: dpkg-source -b . subprocess returned exit status 25<br>\ndebuild: fatal error at line 1182:<br>\ndpkg-buildpackage -us -uc -ui -S failed<br>\nd</p>",
        "id": 448209735,
        "sender_full_name": "Dave Register",
        "timestamp": 1719803578
    },
    {
        "content": "<p>Ah... since you did not make a test build. Sorry, my bad. Re-create the missing tarball like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>$ git fetch github pristine-tar:pristine-tar\n$ git switch pristine-tar\n$ pristine-tar checkout opencpn_5.9.2-beta2+dfsg.orig.tar.xz\n$ mv opencpn_5.9.2-beta2+dfsg.orig.tar.xz ..\n$ git switch ubuntu/jammy\n</code></pre></div>\n<p>This is a one-time setup, when you later build for noble you use the same tarball</p>",
        "id": 448210088,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719803872
    },
    {
        "content": "<p>BTW:  <code>pristine-tar list</code>lists available tarballs, there is no way to deduce those filenames...</p>",
        "id": 448210301,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719804015
    },
    {
        "content": "<p>dsr@debian:~/Projects/opencpn/build_jammy$ pristine-tar checkout opencpn_5.9.2-beta2+dfsg.orig.tar.xz<br>\npristine-tar: cannot determine type of vcs used for the current directory</p>",
        "id": 448210480,
        "sender_full_name": "Dave Register",
        "timestamp": 1719804137
    },
    {
        "content": "<p>hm... are you in the build directory? If so,  try  to move to  ~/Projects/opencpn</p>",
        "id": 448210593,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719804233
    },
    {
        "content": "<p>... i. e., <code>cd  ~/Projects/opencpn</code></p>",
        "id": 448210661,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719804269
    },
    {
        "content": "<p>OK, that worked. I seem to have the pristine tar. But, still fails.</p>\n<p>dsr@debian:~/Projects/opencpn/build_jammy$ debuild -S<br>\ndpkg-buildpackage -us -uc -ui -S<br>\ndpkg-buildpackage: info: source package opencpn<br>\ndpkg-buildpackage: info: source version 5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1<br>\ndpkg-buildpackage: info: source distribution jammy<br>\ndpkg-buildpackage: info: source changed by Alec Leamas &lt;<a href=\"mailto:leamas.alec@gmail.com\">leamas.alec@gmail.com</a>&gt;<br>\ndpkg-source --before-build .<br>\ndebian/rules clean<br>\ndh clean<br>\n  dh_clean<br>\ndpkg-source -b .<br>\ndpkg-source: error: can't build with source format '3.0 (quilt)': no upstream tarball found at ../opencpn_5.9.2-beta2+dfsg.orig.tar.{bz2,gz,lzma,xz}<br>\ndpkg-buildpackage: error: dpkg-source -b . subprocess returned exit status 25<br>\ndebuild: fatal error at line 1182:<br>\ndpkg-buildpackage -us -uc -ui -S failed</p>\n<p>dsr@debian:~/Projects/opencpn/build_jammy$ ls ../opencpn_5.9.2-beta2+dfsg.orig.tar.xz<br>\n../opencpn_5.9.2-beta2+dfsg.orig.tar.xz<br>\ndsr@debian:~/Projects/opencpn/build_jammy$</p>",
        "id": 448210981,
        "sender_full_name": "Dave Register",
        "timestamp": 1719804526
    },
    {
        "content": "<p>As it says: it wants the tarball in .. i. e., ~/Projects</p>",
        "id": 448211059,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719804586
    },
    {
        "content": "<p>That is,  move  the xz file created by pristine-tar to ~/Projects first</p>",
        "id": 448211169,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719804646
    },
    {
        "content": "<p>Yes, this will create various generated stuff in <em>~/Projects</em>. That's the reason I recommend a nested structure like <em>~/Projects/opencpn/opencpn</em>. The git repo is <em>opencpn/opencpn</em>, plain <em>opencpn</em> is where the tarball and generated stuff goes.</p>",
        "id": 448211340,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719804750
    },
    {
        "content": "<p>Yes, it starts to look like a clean clone is the best way.  debuild complains about all of the other stuff (e.g. build dirs, ide config files, etc) in my Projects/opencpn directory.  Literally thousands of error generated.  Sigh.</p>\n<p>dpkg-source: info: using source format '3.0 (quilt)'<br>\ndpkg-source: info: building opencpn using existing ./opencpn_5.9.2-beta2+dfsg.orig.tar.xz<br>\ndpkg-source: info: using patch list from debian/patches/series<br>\ndpkg-source: error: cannot represent change to ._.DS_Store: binary file contents changed<br>\ndpkg-source: error: add ._.DS_Store in debian/source/include-binaries if you want to store the modified binary in the debian tarball<br>\ndpkg-source: warning: executable mode 0755 of '._.DS_Store' will not be represented in diff<br>\ndpkg-source: error: cannot represent change to ._COPYING.gplv2: binary file contents changed<br>\ndpkg-source: error: add ._COPYING.gplv2 in debian/source/include-binaries if you want to store the modified binary in the debian tarball<br>\ndpkg-source: warning: executable mode 0755 of '._COPYING.gplv2' will not be represented in diff<br>\ndpkg-source: warning: executable mode 0755 of '.directory' will not be represented in diff<br>\ndpkg-source: warning: file opencpn/.idea/.name has no final newline (either original or modified version)<br>\ndpkg-source: warning: file opencpn/.idea/codeStyles/Project.xml has no final newline (either original or modified version)<br>\ndpkg-source: warning: file opencpn/.idea/codeStyles/codeStyleConfig.xml has no final newline (either original or modified version)<br>\ndpkg-source: warning: file opencpn/.idea/misc.xml has no final newline (either original or modified version)<br>\ndpkg-source: warning: file opencpn/.idea/modules.xml has no final newline (either original or modified version)<br>\ndpkg-source: warning: file opencpn/.idea/opencpn.iml has no final newline (either original or modified version)<br>\ndpkg-source: warning: file opencpn/.idea/vcs.xml has no final newline (either original or modified version)<br>\ndpkg-source: warning: file opencpn/.idea/workspace.xml has no final newline (either original or modified version)<br>\ndpkg-source: error: cannot represent change to build/.DS_Store: binary file contents changed<br>\ndpkg-source: error: add build/.DS_Store in debian/source/include-binaries if you want to store the modified binary in the debian tarball<br>\ndpkg-sou</p>",
        "id": 448211730,
        "sender_full_name": "Dave Register",
        "timestamp": 1719805079
    },
    {
        "content": "<p>Yes. When cloning, make sure you actually clone  into opencpn/opencpn, see above</p>",
        "id": 448211911,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719805205
    },
    {
        "content": "<p>Cloning shortcut: <a href=\"https://opencpn-manuals.github.io/main/opencpn-dev/create-deb-package.html#_make_a_fresh_opencpn_clone\">https://opencpn-manuals.github.io/main/opencpn-dev/create-deb-package.html#_make_a_fresh_opencpn_clone</a></p>",
        "id": 448212796,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719805706
    },
    {
        "content": "<p>Working with a fresh clone.<br>\ndebuild fails signing step.</p>\n<p>Finished running lintian.<br>\nNow signing changes and any dsc files...<br>\nsignfile dsc opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1.dsc Alec Leamas &lt;<a href=\"mailto:leamas.alec@gmail.com\">leamas.alec@gmail.com</a>&gt;<br>\ngpg: skipped \"Alec Leamas &lt;<a href=\"mailto:leamas.alec@gmail.com\">leamas.alec@gmail.com</a>&gt;\": No secret key<br>\ngpg: /tmp/debsign.pwWfrW3T/opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1.dsc: clear-sign failed: No secret key<br>\ndebsign: gpg error occurred!  Aborting....<br>\ndebuild: fatal error at line 1112:<br>\nrunning debsign failed</p>",
        "id": 448212849,
        "sender_full_name": "Dave Register",
        "timestamp": 1719805784
    },
    {
        "content": "<p>You ned to setup your environment (didn't we do this last time)?<br>\nParts of my  .bashrc reads:</p>\n<div class=\"codehilite\"><pre><span></span><code>export DEBEMAIL=&quot;leamas.alec@gmail.com&quot;\nexport DEBFULLNAME=&quot;Alec Leamas&quot;\n\nexport DEBSIGN_KEYID=E2EA41DCE2F8A99AD17A1E463A67D5D966D15C5C\n</code></pre></div>\n<p>You need to modiy your own ~ /.bashrc on jammy accordingly. The first two should be obvious.<br>\n DEBSIGN_KEYID  is as listed by <code>gpg --list-keys</code>  for you  if thge gpg setup in jammy still is ok.</p>\n<p>Finally: <code>source ~ /.bashrc</code>before doing debuild.</p>",
        "id": 448213258,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719806118
    },
    {
        "content": "<p>Looking at  laumchpad your key should be either BC21C694CCCE82D0AEA608F25961749C2E50AC4A or 4A57DDF4719374E5A8FD2637E5216EEB1ACFED1D.</p>\n<p>IIRC you were able to retrieve a backup for one of those last time</p>",
        "id": 448213643,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719806415
    },
    {
        "content": "<p><code>gpg --list-keys</code> gives me nothing.<br>\nBut I remember the ...D1D key from backup, I think</p>",
        "id": 448213908,
        "sender_full_name": "Dave Register",
        "timestamp": 1719806548
    },
    {
        "content": "<p>Yes. And you also were able to find the associated password. Without this,  the key is useless.</p>\n<p>Two paths:  find the key again, or generate a new key and register it on launchpad. Thoughts?</p>",
        "id": 448214078,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719806699
    },
    {
        "content": "<p>In a previous plugin workflow, I build packages with this:<br>\n$ debuild -k0x70A7C7B4 -S<br>\nIs that the correct password syntax.?  If so, can I just copy some gpg directory from back to current ! ?</p>",
        "id": 448214373,
        "sender_full_name": "Dave Register",
        "timestamp": 1719806896
    },
    {
        "content": "<p>That is not a password, it's just  a reference to a key in the ~/.gnupg keyring. Basically an id or a name</p>",
        "id": 448214426,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719806950
    },
    {
        "content": "<p>(we have done this before...)</p>",
        "id": 448214457,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719806982
    },
    {
        "content": "<p>Yes, we have, But we talked, and it did not actually get done on my current system.<br>\nBoot NAS backup server now...</p>",
        "id": 448214584,
        "sender_full_name": "Dave Register",
        "timestamp": 1719807071
    },
    {
        "content": "<p>OK.</p>",
        "id": 448214606,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719807102
    },
    {
        "content": "<p>While we are waiting (couple of minutes), is there a way to specify DEBEMAIL and  DEBFULLNAME in debuild command line?  Or must ti come from environment?</p>",
        "id": 448214998,
        "sender_full_name": "Dave Register",
        "timestamp": 1719807365
    },
    {
        "content": "<p>OK, NAS is up.  Safe to simple copy the backup ~/.gnupg directory to the new system?</p>",
        "id": 448215350,
        "sender_full_name": "Dave Register",
        "timestamp": 1719807564
    },
    {
        "content": "<p>Probably. But having it in ~ /.bashrc saves tons of time.  I have small one I copy verbatim to all virtual hosts when configuring them.</p>\n<p>As I see it, the Debian workflows are pretty focused on this kind of config files.  There are some really bad examples on this, However, thsi is IMHO not and it's much easier to just follow the flow</p>",
        "id": 448215367,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719807577
    },
    {
        "content": "<p>notably, there is the -k option  to debuild -S for the  key. Again IIRC, we settled for this last time</p>",
        "id": 448215499,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719807652
    },
    {
        "content": "<p>Yes, copying ~/.gnupg  is ok. Move or delete possibnly existinng one first.</p>",
        "id": 448215752,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719807809
    },
    {
        "content": "<p>Then you need to verify the password.</p>\n<p>First: <code>gpg --list-secret-keys</code> should give you at least one key,  something like </p>\n<div class=\"codehilite\"><pre><span></span><code>sec   rsa4096 2024-06-30 [SC] [expires: 2026-06-30]\n      DE3F1A75458931FF1C5FF797D9AA7A6AFC0B61EC\nuid           [ultimate] OpenCPN Releases &lt;build@opencpn.org&gt;\nssb   rsa4096 2024-06-30 [E] [expires: 2026-06-30]\n</code></pre></div>\n<p>Then <code>gpg --export-secret-keys -a DE3F1A75458931FF1C5FF797D9AA7A6AFC0B61EC</code>, the hash as printed  above. This will ask for a password which is needed to sign</p>",
        "id": 448216157,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719808049
    },
    {
        "content": "<p>So, the passphrase I remember and have written down on paper does not validate.<br>\nSo, I guess we go thru the chore of building a new key, and uploading to launchpd.</p>",
        "id": 448218369,
        "sender_full_name": "Dave Register",
        "timestamp": 1719808714
    },
    {
        "content": "<p>Yes. Perhaps it's  simpler if we use the same key as I use for the provisionary crabdance  stuff. Would this be ok with you?</p>",
        "id": 448218466,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719808789
    },
    {
        "content": "<p>Fine.  Less keys to manage is better.</p>",
        "id": 448218580,
        "sender_full_name": "Dave Register",
        "timestamp": 1719808839
    },
    {
        "content": "<p>switching tp PM, private stuff ahead</p>",
        "id": 448218633,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719808869
    },
    {
        "content": "<p>Done import</p>",
        "id": 448219409,
        "sender_full_name": "Dave Register",
        "timestamp": 1719809319
    },
    {
        "content": "<p>OK. Feel safe using <code>gpg --list-secret-keys</code>and <code>gpg --list-keys</code></p>",
        "id": 448219485,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719809371
    },
    {
        "content": "<p>Yep, I see the new key<br>\n\"OpenCPN Releases &lt;<a href=\"mailto:build@opencpn.org\">build@opencpn.org</a>&gt;\"</p>",
        "id": 448219582,
        "sender_full_name": "Dave Register",
        "timestamp": 1719809412
    },
    {
        "content": "<p>To register the key it must be upoaded to the key servers. Stay tuned.</p>",
        "id": 448219847,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719809569
    },
    {
        "content": "<p>done.</p>",
        "id": 448220357,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719809764
    },
    {
        "content": "<p>Now, if you login to your user at <a href=\"https://launchpad.net/~bdbcat\">https://launchpad.net/~bdbcat</a> you should be able to register the PGP key there.</p>",
        "id": 448221010,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719809993
    },
    {
        "content": "<p>OK, still getting the signing error on debuild.</p>\n<p>gpg: skipped \"Alec Leamas &lt;<a href=\"mailto:leamas.alec@gmail.com\">leamas.alec@gmail.com</a>&gt;\": No secret key<br>\ngpg: /tmp/debsign.JfRxCDIx/opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1.dsc: clear-sign failed: No secret key</p>\n<p>But I see the DEBxx values set:</p>\n<p>dsr@debian:~/Projects/opencpn/OpenCPN$ env | grep DEB<br>\nDEBFULLNAME=David Register<br>\nDEBSIGN_KEYID=DE3F1A75458931FF1C5FF797D9AA7A6AFC0B61EC<br>\nDEBEMAIL=bdbcat@yahoo.com</p>\n<p>??</p>",
        "id": 448221155,
        "sender_full_name": "Dave Register",
        "timestamp": 1719810016
    },
    {
        "content": "<p>yup, looks good.</p>",
        "id": 448221310,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719810046
    },
    {
        "content": "<p>Not so good.  Cannot yet build a signed package.</p>",
        "id": 448221941,
        "sender_full_name": "Dave Register",
        "timestamp": 1719810158
    },
    {
        "content": "<p>Does not look good. Try <code>debuild -S -kDE3F1A75458931FF1C5FF797D9AA7A6AFC0B61EC</code></p>",
        "id": 448222057,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719810195
    },
    {
        "content": "<p>wait...</p>",
        "id": 448222313,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719810266
    },
    {
        "content": "<p>That seems to work.</p>",
        "id": 448222814,
        "sender_full_name": "Dave Register",
        "timestamp": 1719810415
    },
    {
        "content": "<p>Indeed.</p>\n<p>Now, we need to register the key at launchpad. Log in to <a href=\"https://launchpad.net/~bdbcat\">https://launchpad.net/~bdbcat</a>, edit the PGP keys section. </p>\n<p>You need the fingerprint:</p>\n<div class=\"codehilite\"><pre><span></span><code>$  gpg  --fingerprint 0xDE3F1A75458931FF1C5FF797D9AA7A6AFC0B61EC\npub   rsa4096 2024-06-30 [SC] [expires: 2026-06-30]\n      DE3F 1A75 4589 31FF 1C5F  F797 D9AA 7A6A FC0B 61EC\nuid           [ultimate] OpenCPN Releases &lt;build@opencpn.org&gt;\nsub   rsa4096 2024-06-30 [E] [expires: 2026-06-30]\n</code></pre></div>",
        "id": 448223154,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719810593
    },
    {
        "content": "<p>BTW: I suggest  you remove the existing keys, the probably adds nothing but problems</p>",
        "id": 448223310,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719810680
    },
    {
        "content": "<p>OK, next step is to upload key to launchpad.<br>\nBut, tomorrow.  Late here, serious fog settling in.</p>\n<p>Thanks for all your guidance.<br>\nHow soon can I return to navigation, and lat/lon stuff? :)</p>",
        "id": 448223345,
        "sender_full_name": "Dave Register",
        "timestamp": 1719810719
    },
    {
        "content": "<p>This is a pain. Let  me look  into the final pieces first.</p>",
        "id": 448224714,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719811129
    },
    {
        "content": "<p>stay tuned...</p>",
        "id": 448224737,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719811143
    },
    {
        "content": "<p>OK. You will get an encypted message after registering a key. It will contain a </p>\n<div class=\"codehilite\"><pre><span></span><code>-----BEGIN PGP MESSAGE-----\n\ngibberish\n\n----END PGP MESSAGE-----\n</code></pre></div>\n<p>block. Save this part to a file ike <em>message.crypt</em> and then  do  <code>ggp --decrypt message.crypt</code></p>",
        "id": 448225279,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719811432
    },
    {
        "content": "<p>And that's basically it.</p>",
        "id": 448225373,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719811470
    },
    {
        "content": "<p>(you need to decrypt on a machine  which has the pgp private key)</p>",
        "id": 448225481,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719811558
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"517002\">@Dave Register</span>  <br>\nI have uploaded beta2 for amd64 and aarch64 to <a href=\"http://mumin.crabdance.com/bookworm-backports\">http://mumin.crabdance.com/bookworm-backports</a>. Only checked amd64 which is fine (no arm host available until this evening).</p>\n<p>Also checked the Flatpak beta  site, looks good.</p>\n<p>The last remaining bit seems to be to register the new key on you + uploading  (dput) the signed source packages.</p>",
        "id": 448275404,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719826389
    },
    {
        "content": "<p>Wishing for sweet dreams in the fog.</p>",
        "id": 448276022,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719826559
    },
    {
        "content": "<p>BTW: When you announce beta2, please note that the crabdance stuff does not guarantee a clean update unless the full steps in README are done once again.</p>",
        "id": 448277241,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719826908
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"399510\">@Alec Leamas</span> <br>\nYes, this is a pain.<br>\nWhen I try to add the new key to launchpad, by GUI, I get error message:</p>\n<p>The key <code>DE3F1A75458931FF1C5FF797D9AA7A6AFC0B61EC</code> has already been imported.</p>\n<p>And nothing more.  I got no email.<br>\nStuck here.</p>",
        "id": 448347504,
        "sender_full_name": "Dave Register",
        "timestamp": 1719843755
    },
    {
        "content": "<p>Time to move ahead.<br>\nI am going to announce Beta-2 now, without ubuntu.  We will continue this saga later.</p>",
        "id": 448349830,
        "sender_full_name": "Dave Register",
        "timestamp": 1719844348
    },
    {
        "content": "<p>For fun, I tried a new memorized passphrase on the older DID key from backup.  And it worked.  So, shift the debuild back to the D!D signing key.<br>\nHowever, I had deactivated this key on launchpad.  So tried to re-activate on launchpad GUI.  <br>\nNow waiting on reactivation email.  Forever?</p>",
        "id": 448361235,
        "sender_full_name": "Dave Register",
        "timestamp": 1719846892
    },
    {
        "content": "<p>No idea how reactivation would/should work.</p>\n<p>The problem with <a href=\"mailto:build@opencpn.org\">build@opencpn.org</a> is probably that I imported it in order to check things. That is what it says: \"Already imported\".</p>\n<p>First try would be to just use dput on the source.changes you created using <code>debuild -S</code>. dput will first check the key before sending package. Will it pass?</p>\n<p>If it sends the package you should get an email from launchpad; either \"Accepted\" or an error message. Let's start there.</p>",
        "id": 448363138,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719847302
    },
    {
        "content": "<blockquote>\n<p>Now waiting on reactivation email. Forever?</p>\n</blockquote>\n<p>Was there a message about such an email being sent?  Perhaps it's just not needed, you have already proved that you own the private key (?)</p>",
        "id": 448365499,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719847791
    },
    {
        "content": "<p>The message about email for reactivation of  old key was plain on the launchpad GUI. \"A message has been sent...\"<br>\nAfter fussing with ~/.dput.cf, I tried dput on the newly build changes file.</p>\n<p>Checking signature on .changes<br>\ngpg: ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.changes: Error checking signature from E5216EEB1ACFED1D: SignatureVerifyError: 0<br>\nChecking signature on .dsc<br>\ngpg: ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1.dsc: Error checking signature from E5216EEB1ACFED1D: SignatureVerifyError: 0<br>\nUploading to ppa:bdbcat/opencpn (via ftp to <a href=\"http://ppa.launchpad.net\">ppa.launchpad.net</a>):<br>\n Uploading opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1.dsc: done.<br>\n Uploading opencpn_5.9.2-beta2+dfsg.orig.tar.xz: done.<br>\n Uploading opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1.debian.tar.xz: done.<br>\n Uploading opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.buildinfo: done.<br>\n Uploading opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.changes: done.<br>\nCould not write ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.ppa:bdbcat/opencpn.upload</p>\n<p>Seems that signature is OK,.<br>\nDon't understand the \"could not write\" report.</p>",
        "id": 448368814,
        "sender_full_name": "Dave Register",
        "timestamp": 1719848521
    },
    {
        "content": "<p>And I do not see any new packages in the PPA.  No \"accept/reject\" email.</p>",
        "id": 448369258,
        "sender_full_name": "Dave Register",
        "timestamp": 1719848608
    },
    {
        "content": "<p>It will take some time before the new package is available -- the ppa will rebuild the complete thing from source.</p>",
        "id": 448369528,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719848664
    },
    {
        "content": "<p>I'm making some more checks. Stay tuned</p>",
        "id": 448369621,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719848687
    },
    {
        "content": "<blockquote>\n<p>Could not write ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.ppa:bdbcat/opencpn.upload</p>\n</blockquote>\n<p>Have you got write permissions to parent directory ..?</p>",
        "id": 448371206,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719849156
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"517002\">@Dave Register</span> </p>\n<p>FWIW I uploaded the branches to my own PPA at <a href=\"https://launchpad.net/~leamas-alec/+archive/ubuntu/opencpn\">https://launchpad.net/~leamas-alec/+archive/ubuntu/opencpn</a>. It was  done i less than  five minutes. Notes:</p>\n<ol>\n<li>My opencpn clone is is situated like ~/OpenCPN/OpenCPN. That is, ~/OpenCPN is a work directory similar to cmake's  build directory where the packaging  tools places various artifacts without clobbering the clone.</li>\n<li>\n<p>To speed up things I use <code>debuild  --no-lintian -S -kDE3F1A75458931FF1C5FF797D9AA7A6AFC0B61EC\n</code>. Debuild is brain dead when it comes to options, avoid for example -Sk... which should work but does not.</p>\n</li>\n<li>\n<p>The message from launchpad after using dput is not that delayed, perhaps a minute or two.</p>\n</li>\n<li>You can check status of packages  on the launchpad page by opening <code>Package Details</code>. Here is links to the builds until they are completed.</li>\n</ol>",
        "id": 448379280,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719851040
    },
    {
        "content": "<p>Still no email messages, nothing new in \"Package Details\".<br>\nDoes my ~/.dput.cf look right?</p>\n<p>dsr@debian:~/Projects/opencpn/OpenCPN$ cat ~/.dput.cf<br>\n[ppa:bdbcat/opencpn]<br>\nfqdn            = <a href=\"http://ppa.launchpad.net\">ppa.launchpad.net</a><br>\nmethod          = ftp<br>\nincoming        = ~bdbcat/opencpn<br>\nlogin           = anonymous</p>",
        "id": 448383047,
        "sender_full_name": "Dave Register",
        "timestamp": 1719851913
    },
    {
        "content": "<p>You can remove .dput.cf, it is not used.</p>",
        "id": 448383222,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719851956
    },
    {
        "content": "<p>It seems the upload failed, probably related to the \"cannot write\" message. As I said: Have you got  write permissions to parent directory .. ?</p>",
        "id": 448383525,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719852052
    },
    {
        "content": "<p>For reference, here is my upload log:</p>\n<div class=\"codehilite\"><pre><span></span><code>$ dput ppa:leamas-alec/opencpn ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.changes\nD: Splitting host argument out of  ppa:leamas-alec/opencpn.\nD: Setting host argument.\nChecking signature on .changes\ngpg: ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.changes: Error checking signature from D9AA7A6AFC0B61EC: SignatureVerifyError: 0\nChecking signature on .dsc\ngpg: ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1.dsc: Error checking signature from D9AA7A6AFC0B61EC: SignatureVerifyError: 0\nUploading to ppa (via ftp to ppa.launchpad.net):\n  Uploading opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1.dsc: done.\n  Uploading opencpn_5.9.2-beta2+dfsg.orig.tar.xz: done.\n  Uploading opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1.debian.tar.xz: done.\n  Uploading opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.buildinfodone.  k\n  Uploading opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.changes: done.\nSuccessfully uploaded packages.\n</code></pre></div>",
        "id": 448384038,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719852237
    },
    {
        "content": "<p>Could not write ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.ppa:bdbcat/opencpn.upload</p>\n<p>The write error is clear enough, on inspection.  The \"/\" in \"ppa:babcat/opencpn\"</p>",
        "id": 448385112,
        "sender_full_name": "Dave Register",
        "timestamp": 1719852578
    },
    {
        "content": "<p>If I delete ~/.dput.cf, I get:</p>\n<p>dsr@debian:~/Projects/opencpn/OpenCPN$ dput  ppa:bdbcat/opencpn   ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.changes<br>\nNo host ppa:bdbcat/opencpn found in config.</p>",
        "id": 448385230,
        "sender_full_name": "Dave Register",
        "timestamp": 1719852607
    },
    {
        "content": "<p>And I do not get these lines in dput output.</p>\n<div class=\"codehilite\"><pre><span></span><code>D: Splitting host argument out of  ppa:leamas-alec/opencpn.\nD: Setting host argument.\n</code></pre></div>",
        "id": 448385652,
        "sender_full_name": "Dave Register",
        "timestamp": 1719852733
    },
    {
        "content": "<p>Nor do I, but it works</p>",
        "id": 448385747,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719852771
    },
    {
        "content": "<p>I mean, they do not appear in my dput output.</p>",
        "id": 448385880,
        "sender_full_name": "Dave Register",
        "timestamp": 1719852810
    },
    {
        "content": "<p>` dput --version says what?</p>",
        "id": 448386220,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719852905
    },
    {
        "content": "<p>dput 1.1.3</p>",
        "id": 448386784,
        "sender_full_name": "Dave Register",
        "timestamp": 1719853075
    },
    {
        "content": "<p>What os are you on when doing this?</p>\n<p>Here is my log from doing the same thing on jammy (no <a href=\"http://dput.cf\">dput.cf</a>)</p>\n<div class=\"codehilite\"><pre><span></span><code>$ dput ppa:leamas-alec/opencpn ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.changes\nD: Splitting host argument out of  ppa:leamas-alec/opencpn.\nD: Setting host argument.\nChecking signature on .changes\ngpg: ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.changes: Error checking signature from D9AA7A6AFC0B61EC: SignatureVerifyError: 0\nChecking signature on .dsc\ngpg: ../opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1.dsc: Error checking signature from D9AA7A6AFC0B61EC: SignatureVerifyError: 0\nUploading to ppa (via ftp to ppa.launchpad.net):\n  Uploading opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1.dsc: done.\n  Uploading opencpn_5.9.2-beta2+dfsg.orig.tar.xz: done.\n  Uploading opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1.debian.tar.xz: done.\n  Uploading opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.buildinfodone.  k\n  Uploading opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1_source.changes: done.\nSuccessfully uploaded packages.\nal@jammy:~/OpenCPN/OpenCPN$ dput --version\ndput 1.1.0+ubuntu2.1\n</code></pre></div>",
        "id": 448387507,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719853276
    },
    {
        "content": "<p>Debian 12</p>",
        "id": 448388108,
        "sender_full_name": "Dave Register",
        "timestamp": 1719853417
    },
    {
        "content": "<p>Ah... Debian does not have the downstream PPA addons. It works for me because I do this on Ubuntu hosts. Suggest you do the same.</p>",
        "id": 448388510,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719853508
    },
    {
        "content": "<p>OK, reset all to jammy virtual.<br>\nWill take some time....sigh.</p>",
        "id": 448388927,
        "sender_full_name": "Dave Register",
        "timestamp": 1719853608
    },
    {
        "content": "<p>No time at all compared to bug hunting</p>",
        "id": 448389142,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719853665
    },
    {
        "content": "<p>OK, on Jammy.  debuild and dput succeed, no errors.  Using old key.<br>\nSure looked like the upload happened.  Clicking byte count, etc.<br>\nNo response from launchpad, nothing new in repo.<br>\nI'll wait a bit.</p>",
        "id": 448395129,
        "sender_full_name": "Dave Register",
        "timestamp": 1719855109
    },
    {
        "content": "<p>it could take some time, might depend on load. Eventually there will be an email reply.</p>",
        "id": 448399985,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719856835
    },
    {
        "content": "<p>Still no message?</p>\n<p>I'm a little concerned about one thing:  version number ordering. The last, current version is basically <em>8767+b2cbf5a3f~ubuntu24.04.1</em> or so. Ordering wise, this is basically 8767. Of course, this version number is not really adequate. </p>\n<p>However, the beta2 version is  <em>5.9.2-beta2+dfsg-1ubuntu1~bpo2204.1</em> This sorts as a version lesser than beta1. This is a problem.</p>\n<p>And not just some peculiar packaging problem, it will bite any user which was to update. Not really sure what to do, but somehow we need to cope with it. Let me think.</p>",
        "id": 448410081,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719859299
    },
    {
        "content": "<blockquote>\n<p>And not just some peculiar packaging problem</p>\n</blockquote>\n<p>That is, any PPA version will always be higher than an official version. As for the PPA, the version in not really part of the sorting, just a build number. This is a bad hole to be in; we need to figure out how to crawl out of it.</p>",
        "id": 448411753,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719859882
    },
    {
        "content": "<p>Furthermore, to make everything clear: If the current package was built no user would ever be able to install it; the repo basically  always delivers the last version of a given package. </p>\n<p>So it seems reasonable to not build it. There should be an error message, but this is probably a corner case. THis also explains why it is built in my repo, but not yours</p>",
        "id": 448416983,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719861392
    },
    {
        "content": "<p>OK, I'm quite sure about what to do. This is a fix anyway,  should have been necessary even if we did not have this problem.</p>\n<p>Unfortunately, it means changing all debian and ubuntu branches.  It also means rebuilding the amd64 and arm (ouch!)  binaries. </p>\n<p>Should be ready toimorrow. Please stay tuned.</p>",
        "id": 448421277,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719862774
    },
    {
        "content": "<p>Still no traffic at all from launchpad. No change to the repo.  Launchpad is in a funny state.<br>\ngoogling, but not finding much help.<br>\nTime to try a completely new key.</p>",
        "id": 448429284,
        "sender_full_name": "Dave Register",
        "timestamp": 1719865011
    },
    {
        "content": "<p>Yes. My theory is, as explained above,  that it is not built because the version is lower than the existing beta1 version.  See above (too much, I know, but still)</p>",
        "id": 448430775,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719865434
    },
    {
        "content": "<p>Basic message: please stay tuned. I'm  on it.</p>",
        "id": 448430888,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719865457
    },
    {
        "content": "<p>Well, I agree with your analysis of the broken version numbering. However...<br>\nI made a shiny new key (on jammy), sent to ubuntu key server, and imported to launchpad using the online GUI.<br>\nAnd now I have two keys pending validation, the old one reactivated, and the new one.<br>\nAnd still no emails. <br>\nI begin to suspect it does not like my email address.  I saw this also in a google search for missing validation emails.</p>",
        "id": 448433325,
        "sender_full_name": "Dave Register",
        "timestamp": 1719866188
    },
    {
        "content": "<p>It could actually be anything. I was able to register <a href=\"mailto:build@opencpn.org\">build@opencpn.org</a>; there is no such email address.</p>\n<p>It might perhaps be confused if you  try to register two keys with the same email address. Is this what you do? If so, pick something random like <a href=\"mailto:sign@opencpn.org\">sign@opencpn.org</a>. It is only used to identify the key. The email  is sent to the address registered for your launchpad user.</p>",
        "id": 448434875,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719866728
    },
    {
        "content": "<p>That said, you did publish your key on the ubuntu keyring first, right?</p>",
        "id": 448435985,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719867161
    },
    {
        "content": "<p>That said, you did publish your key on the ubuntu keyring first, right?<br>\nSkipped that.  How?</p>",
        "id": 448436678,
        "sender_full_name": "Dave Register",
        "timestamp": 1719867425
    },
    {
        "content": "<p>IT's mandatory. <a href=\"https://help.ubuntu.com/community/GnuPrivacyGuardHowto\">https://help.ubuntu.com/community/GnuPrivacyGuardHowto</a></p>\n<p>The way they specify the key is outdated.  Use something like 0xEF6E286DDA85EA2A4BA7DE684E2C6E8793298290 instead of the 8 hex digits. The hash is displayed by gpg --list-keys.</p>\n<p>Note the 0x prefix</p>",
        "id": 448437546,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719867760
    },
    {
        "content": "<p>I'm dense.  I see nothing on that link about a keyring.<br>\nThe launchpad instructions there I followed carefully.<br>\nI made another key, different email address.  Sent to key server.  Imported to launchpad.<br>\nNow waiting email, still.</p>",
        "id": 448438795,
        "sender_full_name": "Dave Register",
        "timestamp": 1719868248
    },
    {
        "content": "<p>This is just so strange. I'll make a test myself</p>",
        "id": 448438895,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719868291
    },
    {
        "content": "<p>... waiting for email</p>",
        "id": 448439690,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719868628
    },
    {
        "content": "<p>THis is my log. Still got nothing back, as you. LP bugs?</p>\n<div class=\"codehilite\"><pre><span></span><code>gpg --full-generate-key\ngpg (GnuPG) 2.4.4; Copyright (C) 2024 g10 Code GmbH\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nPlease select what kind of key you want:\n   (1) RSA and RSA\n   (2) DSA and Elgamal\n   (3) DSA (sign only)\n   (4) RSA (sign only)\n   (9) ECC (sign and encrypt) *default*\n  (10) ECC (sign only)\n  (14) Existing key from card\nYour selection? 1\nRSA keys may be between 1024 and 4096 bits long.\nWhat keysize do you want? (3072) 4096\nRequested keysize is 4096 bits\nPlease specify how long the key should be valid.\n         0 = key does not expire\n      &lt;n&gt;  = key expires in n days\n      &lt;n&gt;w = key expires in n weeks\n      &lt;n&gt;m = key expires in n months\n      &lt;n&gt;y = key expires in n years\nKey is valid for? (0) 2y\nKey expires at Wed 01 Jul 2026 23:12:43 CEST\nIs this correct? (y/N) y\n\nGnuPG needs to construct a user ID to identify your key.\n\nReal name: foo bar\nEmail address: foobar@opencpn.org\nComment: Test key not to be used\nYou selected this USER-ID:\n    &quot;foo bar (Test key not to be used) &lt;foobar@opencpn.org&gt;&quot;\n\nChange (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O\nWe need to generate a lot of random bytes. It is a good idea to perform\nsome other action (type on the keyboard, move the mouse, utilize the\ndisks) during the prime generation; this gives the random number\ngenerator a better chance to gain enough entropy.\nWe need to generate a lot of random bytes. It is a good idea to perform\nsome other action (type on the keyboard, move the mouse, utilize the\ndisks) during the prime generation; this gives the random number\ngenerator a better chance to gain enough entropy.\ngpg: revocation certificate stored as &#39;/home/mk/.gnupg/openpgp-revocs.d/08939DD795ED8EA0A299A8AA7390C63F3AC690CD.rev&#39;\npublic and secret key created and signed.\n\npub   rsa4096 2024-07-01 [SC] [expires: 2026-07-01]\n      08939DD795ED8EA0A299A8AA7390C63F3AC690CD\nuid                      foo bar (Test key not to be used) &lt;foobar@opencpn.org&gt;\nsub   rsa4096 2024-07-01 [E] [expires: 2026-07-01]\n\nmk@hemulen:~/tmp/repo$ gpg --send-keys --keyserver keyserver.ubuntu.com 0x08939DD795ED8EA0A299A8AA7390C63F3AC690CD\ngpg: sending key 7390C63F3AC690CD to hkp://keyserver.ubuntu.com\nmk@hemulen:~/tmp/repo$ gpg --list-keys --fingerprint 08939DD795ED8EA0A299A8AA7390C63F3AC690CD\ngpg: checking the trustdb\ngpg: marginals needed: 3  completes needed: 1  trust model: pgp\ngpg: depth: 0  valid:   4  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 4u\ngpg: next trustdb check due at 2026-06-10\npub   rsa4096 2024-07-01 [SC] [expires: 2026-07-01]\n      0893 9DD7 95ED 8EA0 A299  A8AA 7390 C63F 3AC6 90CD\nuid           [ultimate] foo bar (Test key not to be used) &lt;foobar@opencpn.org&gt;\nsub   rsa4096 2024-07-01 [E] [expires: 2026-07-01]\n</code></pre></div>",
        "id": 448440750,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719869072
    },
    {
        "content": "<p>We wait for a lauchpad reboot, whenever.</p>",
        "id": 448440891,
        "sender_full_name": "Dave Register",
        "timestamp": 1719869153
    },
    {
        "content": "<p>yep. Let's do something useful meanwhile.</p>",
        "id": 448441015,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719869195
    },
    {
        "content": "<p>My proposed solution seem to doesn't fare well in debian-devel. Will need to reset things, but first some sleep.</p>",
        "id": 448459170,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719876257
    },
    {
        "content": "<p>Having no other ideas, I filed a bug report:<br>\n<a href=\"https://bugs.launchpad.net/launchpad/+bug/2071672\">https://bugs.launchpad.net/launchpad/+bug/2071672</a></p>",
        "id": 448482269,
        "sender_full_name": "Dave Register",
        "timestamp": 1719886352
    },
    {
        "content": "<p>Well, either my bug report, or some other factor broke the email logjam at launchpad.<br>\nJust received a bunch of emails from launchpad.  Various attempts to validate the re-activated key.  Did find one that, when decrypted, lead me to a valid confirmation dialog at launchpad<br>\nSo my old ..D1D key is now active.  Back in business again.</p>",
        "id": 448492519,
        "sender_full_name": "Dave Register",
        "timestamp": 1719890682
    },
    {
        "content": "<p>My original dput with key ...D1D failed, since at the moment of the upload, the ..D1D key was deactivated.<br>\nBut I did get an email notification of that fact.  So again, all seems correct at my launchpad account at the moment.</p>",
        "id": 448497184,
        "sender_full_name": "Dave Register",
        "timestamp": 1719893181
    },
    {
        "content": "<p>OK. I have pushed a change to ubuntu/jammy and ubuntu/numbat which should handle the version mess.</p>\n<p>The change is about using an epoch. That is. the debian version becomes 1:5.9.x... rather than 5.9.x...  Any version which has an epoch of 1 is deemed as more recent than a version without epoch (the default epoch is 0)</p>\n<p>Using an epoch is not to be taken lightly and needs to be discussed at debian-devel. I have done that, and it seems to boil down to that it's ok in this case: <a href=\"https://lists.debian.org/debian-devel/2024/07/msg00007.html\">https://lists.debian.org/debian-devel/2024/07/msg00007.html</a>.</p>\n<p>The basic drawback is that we need to live with this epoch forever in the debian packages. Otherwise, as long as we are not confused by users reporting a version like 1:5.10.1 instead of  5.10.1,  there should not be any roadblocks.</p>\n<p>Currently rebuilding the arm packages. will take an hour or two.</p>\n<p>TL; DR; The branches ubuntu/numbat and ubuntu/jammy are ready if after being pulled from github.  After making <code>debuild -S ...</code> the generated source packages should be ok to upload to launchpad.</p>\n<p>You can check the package version by inspecting debian/changelog. The first line contains the version which should have a leading 1: prefix.</p>",
        "id": 448530421,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719907031
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"517002\">@Dave Register</span>  Final, missed push to ubuntu/jammy now.</p>",
        "id": 448534933,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719908398
    },
    {
        "content": "<p>I have uploaded new packages to <a href=\"http://mumin.crabdance.com/bookworm-backports\">mumin.crabdance.com/bookworm-backports</a> These have an  1: epoch  as discussed. To repeat: when announcing, make sure users performs the steps in <a href=\"http://mumin.crabdance.com/bookworm-backports/README\">http://mumin.crabdance.com/bookworm-backports/README</a>. I cannot guarantee a clean update from beta 1 otherwise</p>",
        "id": 448552540,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719912644
    },
    {
        "content": "<p>For reference, beta2 is available at <a href=\"https://launchpad.net/~leamas-alec/+archive/ubuntu/opencpn\">https://launchpad.net/~leamas-alec/+archive/ubuntu/opencpn</a>. Note  <a href=\"https://github.com/opencpn/OpenCPN/issues/4027\">#4027</a></p>",
        "id": 448573674,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719917287
    },
    {
        "content": "<p>Just finished reading the debian-devel thread.  Thoughts:</p>\n<ol>\n<li>Nicely argued by you.  Thanks.</li>\n<li>Impressed that at least one respondent suggested that \"users matter\".</li>\n<li>I'll wear the \"upstream-did-bad\" label.  Just sorry I was not able to read the future those many years ago.</li>\n<li>IMHO, \"1:5.10.0\" is indeed way better than \"9000.5.10.0\"</li>\n</ol>\n<p>So, epoch is the agreed solution.<br>\nI am starting builds now.</p>",
        "id": 448628023,
        "sender_full_name": "Dave Register",
        "timestamp": 1719932381
    },
    {
        "content": "<p>Question:<br>\nDo I need a new \"pristine\" tarball to start?</p>",
        "id": 448628925,
        "sender_full_name": "Dave Register",
        "timestamp": 1719932512
    },
    {
        "content": "<blockquote>\n<p>Do I need a new \"pristine\" tarball to start?</p>\n</blockquote>\n<p>Yes</p>",
        "id": 448629136,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719932543
    },
    {
        "content": "<p>Do you remember the recipe?</p>",
        "id": 448629199,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719932558
    },
    {
        "content": "<p>Yes</p>",
        "id": 448629487,
        "sender_full_name": "Dave Register",
        "timestamp": 1719932623
    },
    {
        "content": "<blockquote>\n<p>'ll wear the \"upstream-did-bad\" label. </p>\n</blockquote>\n<p>Remove that label, now. You could not reasonably have seen this coming. Remember that this discussion was  between the packaging gurus which has worked with this for decades.</p>",
        "id": 448629720,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719932673
    },
    {
        "content": "<p>Away for an hour or so.</p>",
        "id": 448631019,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719932950
    },
    {
        "content": "<p>but have the phone with me...</p>",
        "id": 448631378,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719933016
    },
    {
        "content": "<p>I have uploaded jammy  changes package, waiting on launchpad to process.<br>\nLaunchpad seems very slow these days.</p>",
        "id": 448651434,
        "sender_full_name": "Dave Register",
        "timestamp": 1719937770
    },
    {
        "content": "<blockquote>\n<p>Launchpad seems very slow these days.</p>\n</blockquote>\n<p>Perhaps you are working in a slow timezone :). Have you got the \"Accepted\" message?</p>",
        "id": 448652745,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719938174
    },
    {
        "content": "<p>Nope, no accepted message.</p>",
        "id": 448683465,
        "sender_full_name": "Dave Register",
        "timestamp": 1719947396
    },
    {
        "content": "<p>Just for fun, I kicked off a build of jammy using the Launchpad GUI with my old recipe.  Figured the bogus version number would not matter whenever epoch version is built.<br>\nJob was accepted, due to start build in about an hour.  So things are a bit slow, but...<br>\nWhere is my dput build gone to?</p>",
        "id": 448686550,
        "sender_full_name": "Dave Register",
        "timestamp": 1719948315
    },
    {
        "content": "<p>Another funny thing.<br>\nYesterday, when I finally started get emails from launchpad, the timestamps of the emails were about 10 hours old.  That is, a request for key reactivation I did at 1300 local.  The promised email arrived at 2300 local, with timestamp 1305.<br>\nMight be that that lanchpad mail send daemon is choked.</p>",
        "id": 448687377,
        "sender_full_name": "Dave Register",
        "timestamp": 1719948560
    },
    {
        "content": "<p>yes, where is it.   Just a double check:  you did debuild -S on the ubuntu/jammy branch at <a href=\"https://github.com/opencpn/OpenCPN/commit/9c2a4cb2d\">9c2a4cb2d</a>, right?</p>",
        "id": 448688513,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719948971
    },
    {
        "content": "<p>... and: which key did you use for signing?</p>",
        "id": 448689027,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719949181
    },
    {
        "content": "<p>Yes.<br>\nopencpn (1:5.9.2-beta2+dfsg-1ubuntu1~bpo2204.2) jammy; urgency=medium<br>\n+</p>\n<ul>\n<li>\n<ul>\n<li>New minor release to handle epoch<br>\n+</li>\n</ul>\n</li>\n<li>\n<p>-- Alec Leamas &lt;<a href=\"mailto:leamas.alec@gmail.com\">leamas.alec@gmail.com</a>&gt;  Tue, 02 Jul 2024 00:28:16 +0200</p>\n</li>\n</ul>\n<p>I used the key that launchpad reports as active.  .....D1D</p>\n<p>$ debuild  --no-lintian -S -k4A57DDF4719374E5A8FD2637E5216EEB1ACFED1D</p>",
        "id": 448689299,
        "sender_full_name": "Dave Register",
        "timestamp": 1719949308
    },
    {
        "content": "<p>IT's not a secret, could you please show the complete key id</p>",
        "id": 448689465,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719949370
    },
    {
        "content": "<p>ok</p>",
        "id": 448689477,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719949378
    },
    {
        "content": "<p>I just fired a new build basically identical to <a href=\"https://github.com/opencpn/OpenCPN/commit/9c2a4cb2d\">9c2a4cb2d</a> besides that I bumbed teh version to  1:5.9.2-beta2+dfsg-1ubuntu1~bpo2204.3. Got the \"Accepted\" in about a minute. So,  it's still something in your setup.</p>",
        "id": 448690018,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719949598
    },
    {
        "content": "<p>Can you attach the .source.changes  and .dsc files  here?</p>",
        "id": 448690599,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719949868
    },
    {
        "content": "<p>One of the builds I fired by GUI has completed, but no email.  Normally, I would have gotten a confirmation of successful build.<br>\nDinner now.  reconsider in an hour or so.</p>",
        "id": 448690831,
        "sender_full_name": "Dave Register",
        "timestamp": 1719949975
    },
    {
        "content": "<p><a href=\"/user_uploads/33951/azvrgzWVYA3VNu3hdPwPSF1l/opencpn_5.9.2-beta2dfsg-1ubuntu1bpo2204.2.dsc\">opencpn_5.9.2-beta2dfsg-1ubuntu1bpo2204.2.dsc</a><br>\n<a href=\"/user_uploads/33951/GVhQzks4DzU5gqo-C4pLBNsR/opencpn_5.9.2-beta2dfsg-1ubuntu1bpo2204.2_source.changes\">opencpn_5.9.2-beta2dfsg-1ubuntu1bpo2204.2_source.changes</a></p>",
        "id": 448690890,
        "sender_full_name": "Dave Register",
        "timestamp": 1719950006
    },
    {
        "content": "<p>Hah.<br>\nFrom the GUI push job, I just got an email reporting failure of ARMHF build.  We know about that.<br>\nSo launchpad knows how to email me.</p>",
        "id": 448691118,
        "sender_full_name": "Dave Register",
        "timestamp": 1719950096
    },
    {
        "content": "<p>Back later.</p>",
        "id": 448691170,
        "sender_full_name": "Dave Register",
        "timestamp": 1719950110
    },
    {
        "content": "<p>Ah... the source.changes does not include the source tarball. For some reason debuild has decided that it already exists at lp. Do this:</p>\n<ol>\n<li>Rebuild the source package using <code>debuild --no-lintian -S -sa -k4A57DDF4719374E5A8FD2637E5216EEB1ACFED1D</code></li>\n<li>Check that  the generated opencpn_5.9.2-beta2dfsg-1ubuntu1bpo2204.2_source.changes contains a row like <code>19d2d82ae7cbc7cde9ae885c3a3ace0d 34400412 misc optional opencpn_5.9.2-beta2+dfsg.orig.tar.xz</code></li>\n<li>Push the source.changes file using dput. If dput rightfully complains that it's already pushed, use <code>dput -f</code> to override that check and push it anyway.</li>\n</ol>",
        "id": 448694041,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719951060
    },
    {
        "content": "<p>Did all that.<br>\nNo email yet, but there is anew build started at launcpad, 1:5.9.2....<br>\nSo it looks like the job was accepted.</p>",
        "id": 448708687,
        "sender_full_name": "Dave Register",
        "timestamp": 1719956852
    },
    {
        "content": "<p>I'll test jammy first, then start numbat.<br>\nDo we get focal, also?</p>",
        "id": 448709133,
        "sender_full_name": "Dave Register",
        "timestamp": 1719957052
    },
    {
        "content": "<p>Starting to summarize:</p>\n<ol>\n<li>Use Ubuntu hosts when creating Ubuntu packages</li>\n<li>Make sure the signing key is ok.</li>\n<li>Use a fresh clone, or at least a clone which can be cleaned using <code>git clean -fxd</code></li>\n<li>Create the source tarball</li>\n<li>Make sure the sources are part of of the source package when needed, possible use <code>-sa</code></li>\n</ol>\n<p>Did I forget something?</p>",
        "id": 448709229,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719957115
    },
    {
        "content": "<blockquote>\n<p>Do we get focal, also?</p>\n</blockquote>\n<p>Will make a try tomorrow. Probably harder.</p>",
        "id": 448709482,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719957234
    },
    {
        "content": "<p>I see no reason not to use \"-sa\" always.  We don't build Betas all that often.<br>\nI recall from olden days that I appreciated not having to upload full source tarball on slow connections.  But got caught a few times, by email error message.  No more, I guess.</p>",
        "id": 448709605,
        "sender_full_name": "Dave Register",
        "timestamp": 1719957281
    },
    {
        "content": "<blockquote>\n<p>I see no reason not to use \"-sa\" always</p>\n</blockquote>\n<p>Indeed, sloppy writing by me.  Will expand on it  (planning rewrite of packaging in dev manual)</p>",
        "id": 448709768,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719957360
    },
    {
        "content": "<p>OK, thanks for all.<br>\nGet some sleep.</p>",
        "id": 448709906,
        "sender_full_name": "Dave Register",
        "timestamp": 1719957410
    },
    {
        "content": "<p>Will do. This has haunted me, I might sleep better tonight.  </p>\n<p>Good night</p>",
        "id": 448709981,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719957456
    },
    {
        "content": "<p>You are GMT+2 ?</p>",
        "id": 448710005,
        "sender_full_name": "Dave Register",
        "timestamp": 1719957474
    },
    {
        "content": "<p>+1, summertime</p>",
        "id": 448710070,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719957489
    },
    {
        "content": "<p>G'Night</p>",
        "id": 448710101,
        "sender_full_name": "Dave Register",
        "timestamp": 1719957507
    },
    {
        "content": "<p>Couple of things...<br>\n1.. On Jammy, problems upgrading from 5.8.4 to 5.9.2 from Beta PPA.  Conflict with wx libraries.<br>\nI can give more details if required.</p>\n<ol start=\"2\">\n<li>numbat: <br>\n     changes file name seems wrong.  AFIK, ubuntu noble numbat is 24.04<br>\n     debuild makes \"opencpn_5.9.2-beta2+dfsg-1ubuntu1~bpo26.04.2_source.changes\"<br>\n     Maybe I do not understand the \"bpo26.04.2\" clause here.</li>\n</ol>",
        "id": 448731930,
        "sender_full_name": "Dave Register",
        "timestamp": 1719968997
    },
    {
        "content": "<p>Jammy, with previous Beta installed.<br>\nEnable opencpn beta ppa repo, and try to update .</p>\n<div class=\"codehilite\"><pre><span></span><code>dsr@dsr-Aspire-E5-576:~$ sudo apt install opencpn\n</code></pre></div>\n\n<p>Reading package lists... Done<br>\nBuilding dependency tree... Done<br>\nReading state information... Done<br>\nSome packages could not be installed. This may mean that you have<br>\nrequested an impossible situation or if you are using the unstable<br>\ndistribution that some required packages have not yet been created<br>\nor been moved out of Incoming.<br>\nThe following information may help to resolve the situation:</p>\n<p>The following packages have unmet dependencies:<br>\n libwxbase3.2-1 : Breaks: libwxbase3.2-0 but 3.2.1+dfsg-1ubuntu1~bpo22.04.2 is to be installed<br>\n libwxgtk-gl3.2-1 : Breaks: libwxgtk3.2-0 but 3.2.1+dfsg-1ubuntu1~bpo22.04.2 is to be installed<br>\n libwxgtk-webview3.2-1 : Breaks: libwxgtk-webview3.2-0 but 3.2.1+dfsg-1ubuntu1~bpo22.04.2 is to be installed<br>\n libwxgtk3.2-1 : Breaks: libwxgtk3.2-0 but 3.2.1+dfsg-1ubuntu1~bpo22.04.2 is to be installed<br>\nE: Error, pkgProblemResolver::Resolve generated breaks, this may be caused by held packages.</p>",
        "id": 448735074,
        "sender_full_name": "Dave Register",
        "timestamp": 1719971202
    },
    {
        "content": "<p>Noble numbat upgrades and installs OK.</p>",
        "id": 448736366,
        "sender_full_name": "Dave Register",
        "timestamp": 1719972144
    },
    {
        "content": "<p>Yes,  the ~bpo26.04.2 suffix is wrong, should be ~bpo24.04.2. Will be in later builds.  However, as long as the leading version incremented like for example 5.9.3 for beta3  the suffix does not matter. There is time to fix this</p>",
        "id": 448767879,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719988369
    },
    {
        "content": "<p>jammy: installs cleanly after removing wxwidgets and thus the previous beta.  Digging.</p>",
        "id": 448776592,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719991836
    },
    {
        "content": "<p>hm.. In order to deal with this I need to reinstall beta1. However, I don't find it at <a href=\"https://launchpad.net/~bdbcat/+archive/ubuntu/opencpn/+packages\">https://launchpad.net/~bdbcat/+archive/ubuntu/opencpn/+packages</a>, there is seemingly only focal left (?)</p>\n<p>Have you removed them?</p>",
        "id": 448786086,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719994717
    },
    {
        "content": "<p>For now, the message is that after removing wxWidgets and thus opencpn installation is fine. This is command line stuff anyway, so perhaps we could just issue instructions for it (?)</p>",
        "id": 448786396,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1719994809
    },
    {
        "content": "<p>focal: I have pushed a new branch ubuntu/focal.  The untested part is the wxWidgets version  in debian/control; I have no way to test this, and you might have to adjust it. Let me know in that case.</p>",
        "id": 448843394,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1720011783
    },
    {
        "content": "<p>Have you removed them? (Beta-1, jammy and noble)<br>\nNot directly.  jammy and noble were automatically \"replaced\" by the Beta-2 builds.</p>",
        "id": 448855907,
        "sender_full_name": "Dave Register",
        "timestamp": 1720014718
    },
    {
        "content": "<p>I need to be able reproduce the problem... I suppose you don't have workflows a in place to rebuild the packages?</p>",
        "id": 448856294,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1720014822
    },
    {
        "content": "<p>... the simplest might be to create a scratch ppa repo use the old GUI tools for that (?)</p>",
        "id": 448856875,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1720014955
    },
    {
        "content": "<p>I am pretty sure the same problem occurs when updating from O584 (as installed from production PPA) to new Beta-2.<br>\nBooting a system to test that now.</p>",
        "id": 448857304,
        "sender_full_name": "Dave Register",
        "timestamp": 1720015048
    },
    {
        "content": "<p>That would be sort of nice...</p>",
        "id": 448857421,
        "sender_full_name": "Alec Leamas",
        "timestamp": 1720015079
    }
]