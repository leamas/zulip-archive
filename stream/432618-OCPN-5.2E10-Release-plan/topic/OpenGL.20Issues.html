<html>
<head><meta charset="utf-8"><title>OpenGL Issues · OCPN 5.10 Release plan · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/index.html">OCPN 5.10 Release plan</a></h2>
<h3>Topic: <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html">OpenGL Issues</a></h3>

<hr>

<base href="https://opencpn.zulipchat.com">

<head><link href="https://leamas.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="480309980"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480309980" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480309980">(Nov 03 2024 at 14:06)</a>:</h4>
<p>Have a new Windows 11 laptop with all Intel chips.  OpenCPN 5.10 does not work at all.  The older 5.8.4 works ok. Attached a screen shot and the OpenGL capabilities report.</p>
<p>Symptoms are:</p>
<p>Hanging chads such as the piano key popup boxes<br>
Frozen chart windows<br>
Invisible hamburger menus<br>
<a href="/user_uploads/33951/agDJ5Gwu5aPXWTZ4qljAtJzx/image.png">image.png</a><br>
<a href="/user_uploads/33951/_ON1ajhnGePgcSx4X4qZAQi4/gl_caps.json">gl_caps.json</a></p>
<div class="message_inline_image"><a href="/user_uploads/33951/agDJ5Gwu5aPXWTZ4qljAtJzx/image.png" title="image.png"><img data-original-dimensions="1920x1140" src="/user_uploads/thumbnail/33951/agDJ5Gwu5aPXWTZ4qljAtJzx/image.png/840x560.webp"></a></div>



<a name="480310239"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480310239" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480310239">(Nov 03 2024 at 14:10)</a>:</h4>
<p>Forgot to attach the log file.<br>
<a href="/user_uploads/33951/FdxZ-Db49YkI6DWWDfSgBBuv/opencpn.log">opencpn.log</a></p>



<a name="480478223"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480478223" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480478223">(Nov 04 2024 at 16:09)</a>:</h4>
<p><span class="user-mention" data-user-id="522729">@Dan Dickey</span>  <span class="user-mention" data-user-id="517002">@Dave Register</span> <br>
Since I'm arranging an OpenCPN training next weekend and someone with a new W11 may well show up, I'm a bit interested. Is there a solution in sight?</p>



<a name="480479944"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480479944" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480479944">(Nov 04 2024 at 16:18)</a>:</h4>
<p>Dave, so far it’s related I think to dual canvas mode but I haven’t found a magic bullet. The Intel drivers I have are the latest from Dell’s point of view. But Intel mostly worries about DirectX and not so much OpenGL. The glview tool from realtech works flawlessly.</p>



<a name="480517591"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480517591" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480517591">(Nov 04 2024 at 20:05)</a>:</h4>
<p>dan...<br>
From the screenshot, I see you are running 5.11.0, I guess from master branch.<br>
Just for completeness, if you will checkout and build from branch "v5.10.x", and test.  This may allow us to exclude  recent patches to master branch as culprits.  Master branch has not been tested extensively, except on single platforms as developers work.<br>
Dave</p>



<a name="480561363"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480561363" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480561363">(Nov 05 2024 at 02:17)</a>:</h4>
<p>FWIW, today I tested on W11.  Both Release 5.10.2, and unstable master 5.11.0, both run fine on similar Windows laptop.  5.11.0 seems a bit slower to startup, needs investigation.  But stable once booted.</p>
<p>I suspect a bad plugin on your system?</p>



<a name="480663900"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480663900" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480663900">(Nov 05 2024 at 08:21)</a>:</h4>
<p>I will return after the training if I happen to something similar. Thanks</p>



<a name="480668735"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480668735" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480668735">(Nov 05 2024 at 08:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="517002">Dave Register</span> <a href="#narrow/channel/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues/near/480561363">said</a>:</p>
<blockquote>
<p>FWIW, today I tested on W11.  Both Release 5.10.2, and unstable master 5.11.0, both run fine on similar Windows laptop.  5.11.0 seems a bit slower to startup, needs investigation.  But stable once booted.</p>
<p>I suspect a bad plugin on your system?</p>
</blockquote>
<p>There are no plugins (except standard 4) on my system.  I still suspect driver and/or gl library issues. Suspiciously, sometimes it works and other times it does not.</p>



<a name="480689768"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480689768" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480689768">(Nov 05 2024 at 10:38)</a>:</h4>
<p>After a lot of testing all I can say is that the simplest way to describe this problem is as follows:<br>
As O starts up it begins to paint the chart canvas area.  At some point, the main chart region stops painting.  The Windows window manager does its part to repaint the physical screen when hiding/unhiding the O window. But the underlying chart canvas region is not being written.  The app is running normally, the navigation connection is running and consuming data, but nothing is drawn in the main canvas area.  None of the hamburger menus are drawn.  The status bar seems to be working. The piano key popups show in the main canvas area but they are not erased because the main canvas is not getting updated. So, they just stay there forever.</p>
<p>A few times I started O in single canvas window mode and it ran normally.  Then, when I switched to dual canvas mode the "freeze" happened as it was creating the dual view. The right view was not updated.</p>
<p>I will keep testing to see if I can find something that affects it.</p>



<a name="480733789"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480733789" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480733789">(Nov 05 2024 at 14:30)</a>:</h4>
<p>Try step back to O584.  Virtually the same GL interface there, so may be instructive.<br>
Also, please confirm the no-GL case works well enough.</p>



<a name="480746250"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480746250" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480746250">(Nov 05 2024 at 15:25)</a>:</h4>
<p>For sure no-GL works ok for me.</p>



<a name="480746474"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480746474" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480746474">(Nov 05 2024 at 15:26)</a>:</h4>
<p>I also tried O5.8.4 and same GL problems arise with canvases not showing what O is drawing.</p>



<a name="480902000"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/480902000" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#480902000">(Nov 06 2024 at 11:46)</a>:</h4>
<p>After a bit of testing I am leaning toward a bug in the Windows GPU stack.  Probably in the Intel code. But no other app I have is affected.</p>



<a name="481543927"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/481543927" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#481543927">(Nov 10 2024 at 09:20)</a>:</h4>
<p>Confirming there was a bug in the Intel GPU driver/library setup.  I pulled the latest Intel driver install (&gt;1GB) from Dell support. It had an interesting option the executes a "clean" install.  I finally tried that and now O works fine in GL mode.</p>



<a name="483405519"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/483405519" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#483405519">(Nov 20 2024 at 04:45)</a>:</h4>
<p><span class="user-mention" data-user-id="399510">@Alec Leamas</span> </p>
<p>I think after recent updates to plugin management, a small bug has crept in.<br>
It seems to be impossible to update an imported plugin with a later Released version., from the master catalog.  This would seem to be a normal workflow for an adventurous tester/user.<br>
I am hacking away at the 5.11 (master) code, but I could use a hand...</p>



<a name="483790600"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/OpenGL%20Issues/near/483790600" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/OpenGL.20Issues.html#483790600">(Nov 21 2024 at 21:20)</a>:</h4>
<p><span class="user-mention" data-user-id="399510">@Alec Leamas</span> <br>
Investigating a new-ish problem where in imported plugin cannot be updated to a more recent version coming from the downloaded catalog.  I have made some changes, getting it to work.  But I would appreciate a review.  Some of the logic was not clear to me.<br>
Here is the commit:<br>
<a href="https://github.com/opencpn/OpenCPN/commit/689bda20c1dbd9e5a8a861053196b10c9edd7e0b">689bda20c1dbd9e5a8a861053196b10c9edd7e0b</a></p>
<p>Thanks</p>



<hr><p>Last updated: Jan 19 2025 at 10:31 UTC</p>
</html>