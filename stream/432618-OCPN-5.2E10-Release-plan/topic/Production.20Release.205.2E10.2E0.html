<html>
<head><meta charset="utf-8"><title>Production Release 5.10.0 · OCPN 5.10 Release plan · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/index.html">OCPN 5.10 Release plan</a></h2>
<h3>Topic: <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html">Production Release 5.10.0</a></h3>

<hr>

<base href="https://opencpn.zulipchat.com">

<head><link href="https://leamas.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="457251762"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/457251762" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#457251762">(Aug 08 2024 at 03:18)</a>:</h4>
<p>I think we are all ready for Prod Release 5.10.0<br>
Any last minute concerns or comments?</p>



<a name="457289323"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/457289323" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tony Voss <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#457289323">(Aug 08 2024 at 07:35)</a>:</h4>
<p>There are <a href="https://github.com/OpenCPN/OpenCPN/milestone/8">42 open issues on GitHub milestoned for 5.10.0.</a><br>
I guess they need reviewing and either closed or the milestone adjusted.  Maybe after the release.</p>



<a name="463382667"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463382667" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463382667">(Aug 19 2024 at 11:53)</a>:</h4>
<p><span class="user-mention" data-user-id="517002">@Dave Register</span> <br>
I am seeing a consistent crash in Windows 11. It happens within few minutes of running O when multiple AIS targets produce CPA alarms.</p>
<p><a href="/user_uploads/33951/JLQikLw9zPX18oBqmGUkhIa3/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/33951/JLQikLw9zPX18oBqmGUkhIa3/image.png" title="image.png"><img data-original-dimensions="1920x1032" src="/user_uploads/thumbnail/33951/JLQikLw9zPX18oBqmGUkhIa3/image.png/840x560.webp"></a></div>



<a name="463498958"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463498958" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463498958">(Aug 19 2024 at 19:54)</a>:</h4>
<p><span class="user-mention" data-user-id="522729">@Dan Dickey</span> <br>
No luck reproducing this.  Is this live data, or from a VDR recording?</p>



<a name="463529194"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463529194" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463529194">(Aug 19 2024 at 22:41)</a>:</h4>
<p>It’s a VDR.</p>



<a name="463547160"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463547160" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463547160">(Aug 20 2024 at 00:42)</a>:</h4>
<p>Dan<br>
will you post the VDR you are using?<br>
Thanks<br>
Dave</p>



<a name="463547384"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463547384" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463547384">(Aug 20 2024 at 00:45)</a>:</h4>
<p><a href="/user_uploads/33951/UpMKWDtIdHWV_1cLL-ldxKjE/PacCupStartLong.txt">PacCupStartLong.txt</a><br>
See if attached file makes it through all the filters.</p>



<a name="463547588"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463547588" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463547588">(Aug 20 2024 at 00:46)</a>:</h4>
<p>The crash generally happens before "ownship" makes it past Pt Bonita.</p>



<a name="463553626"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463553626" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463553626">(Aug 20 2024 at 01:33)</a>:</h4>
<p><span class="user-mention" data-user-id="522729">@Dan Dickey</span> <br>
Got the file.  Seen this one before.<br>
No failures yet on W10.  Starting W11 test next.<br>
Please tell me your AIS CPA parameters.</p>



<a name="463553775"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463553775" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463553775">(Aug 20 2024 at 01:35)</a>:</h4>
<p><a href="/user_uploads/33951/VPlx3uL_yffvss5bGRg1gsdM/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/33951/VPlx3uL_yffvss5bGRg1gsdM/image.png" title="image.png"><img data-original-dimensions="735x968" src="/user_uploads/thumbnail/33951/VPlx3uL_yffvss5bGRg1gsdM/image.png/840x560.webp"></a></div>



<a name="463557952"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463557952" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463557952">(Aug 20 2024 at 01:59)</a>:</h4>
<p><span class="user-mention" data-user-id="522729">@Dan Dickey</span> <br>
Sorry, cannot get a fail.  Do you ACK any of the alerts?  Any other hints, or special requirements?</p>



<a name="463557985"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463557985" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463557985">(Aug 20 2024 at 01:59)</a>:</h4>
<p>No, just let it run a while.</p>



<a name="463655616"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463655616" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463655616">(Aug 20 2024 at 10:04)</a>:</h4>
<p><span class="user-mention" data-user-id="522729">@Dan Dickey</span> <span class="user-mention" data-user-id="517002">@Dave Register</span> <br>
I've played the same VDR file a couple of times without issues.<br>
On Win10, latest master code.<br>
Similar AIS CPA settings as Dan. My alert sound is beep_ssl.wav. Sound device: OcpnWxSound</p>



<a name="463720739"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463720739" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463720739">(Aug 20 2024 at 14:40)</a>:</h4>
<p><span class="user-mention" data-user-id="522729">@Dan Dickey</span> <br>
More digging required.<br>
Looking at the stack trace on your crash above, it seems that a new alert dialog is being created.  In the process, the variable <br>
<code>m_pAlertTextCtl</code><br>
is created in the method CreateControls(), at line 174.  The control is accessed normally, e.g at line 180.<br>
Later, is called <br>
<code>UpdateText();</code><br>
at line 222.</p>
<p>The fault happens in UpdateText(), at line 266.<br>
<code>m_pAlertTextCtl-&gt;SetFonts(face, face, sizes);</code></p>
<p>So what has happened to the m_pAlertTextCtrl ?<br>
All this code is synchronous, no parallel threads active.<br>
Head scratching....</p>



<a name="463720931"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463720931" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463720931">(Aug 20 2024 at 14:41)</a>:</h4>
<p>Yeah, me too. I’ll keep looking into it. First I need to pull latest so I can build again.</p>



<a name="463721305"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463721305" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463721305">(Aug 20 2024 at 14:43)</a>:</h4>
<p>If Alec is not finished fixing libdnet, just do:<br>
<code>$ git checkout 610815eb1e392b20269772ced4c890ce80feb020</code></p>



<a name="463771683"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463771683" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463771683">(Aug 20 2024 at 18:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="517002">Dave Register</span> <a href="#narrow/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0/near/463721305">said</a>:</p>
<blockquote>
<p>If Alec is not finished fixing libdnet</p>
</blockquote>
<p>done</p>



<a name="463781345"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463781345" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463781345">(Aug 20 2024 at 18:41)</a>:</h4>
<p><span class="user-mention" data-user-id="399510">@Alec Leamas</span> <br>
"done"<br>
Really?  I see CCI fails on bookworm.</p>



<a name="463781597"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/463781597" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#463781597">(Aug 20 2024 at 18:43)</a>:</h4>
<p>Ok...  I only checked the PR builds, notablyu windows. Will fix,</p>



<a name="464107890"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/464107890" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#464107890">(Aug 21 2024 at 16:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="517002">Dave Register</span> <a href="#narrow/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0/near/463720739">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="522729">Dan Dickey</span> <br>
More digging required.<br>
Looking at the stack trace on your crash above, it seems that a new alert dialog is being created.  In the process, the variable <br>
<code>m_pAlertTextCtl</code><br>
is created in the method CreateControls(), at line 174.  The control is accessed normally, e.g at line 180.<br>
Later, is called <br>
<code>UpdateText();</code><br>
at line 222.</p>
<p>The fault happens in UpdateText(), at line 266.<br>
<code>m_pAlertTextCtl-&gt;SetFonts(face, face, sizes);</code></p>
<p>So what has happened to the m_pAlertTextCtrl ?<br>
All this code is synchronous, no parallel threads active.<br>
Head scratching....</p>
</blockquote>
<p><span class="user-mention" data-user-id="517002">@Dave Register</span> i think the problem still exists. So far have seen 2 manifestations. On is as previously reported, another is illegal address trap in OpenGL driver DLL. Both of these suggest some pointer somewhere has gone bad and thus overwriting  something important. I’ll keep digging and try to find it.</p>



<a name="464605519"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/464605519" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#464605519">(Aug 23 2024 at 10:07)</a>:</h4>
<p><strong>Dave Register</strong> I have been running the official download version and it crashes reliably too.</p>



<a name="464667686"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/464667686" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#464667686">(Aug 23 2024 at 15:06)</a>:</h4>
<p>Probably done this, but have you disabled all plugins?</p>



<a name="464668245"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/464668245" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#464668245">(Aug 23 2024 at 15:09)</a>:</h4>
<p>All disabled but the in-place “four”.  I’m working to get a debug build flavor that will also crash so I can track it down. If i am only one seeing it, then it isn’t super urgent.</p>



<a name="464766192"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/464766192" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#464766192">(Aug 24 2024 at 00:32)</a>:</h4>
<p><span class="user-mention" data-user-id="522729">@Dan Dickey</span> <br>
Just looking at the screenshot of the crash, reported above.<br>
The contents of  <code>m_pAlertTextCtl</code> are a little suspicious.  m_cell == NULL.  Hmmm...<br>
Please add this quick patch, for debug information:</p>
<div class="codehilite"><pre><span></span><code>void AISTargetAlertDialog::UpdateText() {
  if (GetAlertText()) {

     // checking for m_cell == NULL
    if (!m_pAlertTextCtl-&gt;GetInternalRepresentation())
      return;    // Might like to set a breakpoint here.

    // Capture current scroll position
</code></pre></div>
<p>Just casting about.....</p>



<a name="464766284"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/464766284" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#464766284">(Aug 24 2024 at 00:34)</a>:</h4>
<p>Dave, I already did that and a few other asserts to see what’s happening. Just been real busy with life this week. Will report what I find.</p>



<a name="464769336"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/464769336" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#464769336">(Aug 24 2024 at 01:14)</a>:</h4>
<p>I see this in log file quite a bit too:</p>
<div class="codehilite"><pre><span></span><code>21:43:19.437 MESSAGE instrument.cpp:296 DashboardInstrument::OnPaint() fatal: wxAutoBufferedPaintDC.IsOk() false.
</code></pre></div>
<p>anybody else see it?</p>



<a name="464932311"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/464932311" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#464932311">(Aug 25 2024 at 03:59)</a>:</h4>
<p>Dan...<br>
Looking at the "hint" on the github issue:<br>
Interesting.  As you can see, there was a new SENC file created during the startup and initial chart display.  The error reported there is probably not involved.  However, the AIS AelrtDialog failures started immediately afterword.<br>
What is most interesting is the the SENC file creation happens in its own thread.  So, theoretically if something went wild in the SENC thread and corrupted the main thread image, it could explain the fault.<br>
So I hacked the code so that SENC file creation threads start on every chart load, just to stress the system.  Ran without problem for 60 minutes.  So....<br>
Have you ever seen a similar log case before?  In normal operation, multithread SENC file creation is pretty infrequent, happens only when a chartset is initially installed, or updated.</p>



<a name="465012104"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465012104" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465012104">(Aug 25 2024 at 13:30)</a>:</h4>
<p>Dave...<br>
I am not convinced it is the creation of SENC files that goes awry.  No, I have not seen these log messages before.  One issue I do see is that in log level "Debug" we get way too many AIS log messages.  Creates hundreds of megabytes of log file.  Once we figure this issue out, I will submit a PR for a logging scheme that allows to limit the number of repeated messages in a somewhat generic way.</p>



<a name="465013505"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465013505" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465013505">(Aug 25 2024 at 13:45)</a>:</h4>
<p>I assume they are not identical. If they indeed are, there is <a href="https://docs.wxwidgets.org/latest/classwx_log.html#ae814f9b9b4c8b4a52e34d7c919f98296">https://docs.wxwidgets.org/latest/classwx_log.html#ae814f9b9b4c8b4a52e34d7c919f98296</a> already.</p>
<p>We could probably override this in some clever way if we want, we are alredy using a custom target derived from the standard log target class.</p>



<a name="465022042"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465022042" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465022042">(Aug 25 2024 at 15:04)</a>:</h4>
<p>Alex, I have created a macro that does it. Just waiting until I finish debugging this “possible” issue.</p>



<a name="465028831"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465028831" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465028831">(Aug 25 2024 at 17:02)</a>:</h4>
<p>Alex, no they are not identical.  This is the macro I created:</p>
<div class="codehilite"><pre><span></span><code>#include &lt;mutex&gt;

#define LOG_MACRO(ABBREV, LOG_LEVEL, MAX_COUNT)                          \
  static int m_##ABBREV##LOG_LEVEL##Count = 0;                           \
  static std::mutex m_##ABBREV##_##LOG_LEVEL##Mutex;                     \
  static void ABBREV##Log##LOG_LEVEL##1(wxString s) {                    \
    std::lock_guard&lt;std::mutex&gt; lock(m_##ABBREV##_##LOG_LEVEL##Mutex);   \
    if (m_##ABBREV##LOG_LEVEL##Count++ &lt; MAX_COUNT) wxLog##LOG_LEVEL(s); \
    if (m_##ABBREV##LOG_LEVEL##Count == MAX_COUNT)                       \
      wxLog##LOG_LEVEL(_T(#ABBREV &quot;: Too many messages, stopping.&quot;));    \
  }                                                                      \
  extern &quot;C&quot; static void ABBREV##Log##LOG_LEVEL(const char* s) {         \
    ABBREV##Log##LOG_LEVEL##1(wxString::FromUTF8(s));                    \
  }

// Usage examples:
// Step 1. Create the local static logging functions with various count limits
// LOG_MACRO(AIS, Warning, 10000)
// LOG_MACRO(AIS, Message, 100000)
// LOG_MACRO(AIS, Debug, 1000)
//
// Step 2. Use on of the the created functions
// AISLogDebug(&quot;m_pAlertTxtCtl is bad.&quot;);
</code></pre></div>
<p>Not pretty, but it works.  Within a single source file, you can create different functions by changing the abbreviation when invoking the macro. Only the log function calls with same beginning abbreviation will be counted against the limit.</p>



<a name="465033095"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465033095" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465033095">(Aug 25 2024 at 18:17)</a>:</h4>
<blockquote>
<p>Not pretty, </p>
</blockquote>
<p>;)</p>
<p>Perhaps cleaner done using something like</p>
<div class="codehilite"><pre><span></span><code>using LogHandle = std::pair&lt;std::string, int&gt;;
void LogLimited(LogHandle, const char* format, ...) {...}
</code></pre></div>
<p>used like</p>
<div class="codehilite"><pre><span></span><code>auto handle = LogHandle(&quot;AIS&quot;, 100);
LogLimited(handle,  &quot;Strange thing logged : %s&quot;, strange_thing);
</code></pre></div>
<p>This would avoid the macro mess and also work across source files.</p>
<p>That said, I wonder if not the right thing would be just to convert the noisy AIS LogDebug() statements to LogTrace(). This would make it possible to actually log everything if needed if using <code>--loglevel trace</code>, avoiding it otherwise</p>



<a name="465034191"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465034191" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465034191">(Aug 25 2024 at 18:33)</a>:</h4>
<p>It crashed again:<br>
<a href="/user_uploads/33951/FhOl9htSQTFQsLweqN8NswtV/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/33951/FhOl9htSQTFQsLweqN8NswtV/image.png" title="image.png"><img data-original-dimensions="1920x1032" src="/user_uploads/thumbnail/33951/FhOl9htSQTFQsLweqN8NswtV/image.png/840x560.webp"></a></div><p><a href="/user_uploads/33951/9svHrkFp1xTlsiljpGs5LLtU/opencpn.log">opencpn.log</a></p>



<a name="465034894"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465034894" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465034894">(Aug 25 2024 at 18:45)</a>:</h4>
<p>hm... looking at that log: this is not just about one thread. Around ocpn_frame.cpp:5616:</p>
<div class="codehilite"><pre><span></span><code>       wxCommandEvent ev(BELLS_PLAYED_EVTYPE);
       wxPostEvent(this, ev);
</code></pre></div>
<p>which eventually ends up in  <code>sound-&gt;Play()</code> in ocpn_frame.cpp:926, and this starts a new thread in <em>libs/sound/src/MswSound.cpp</em></p>
<p>Just a hint, I'm not able to debug.</p>



<a name="465038172"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465038172" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465038172">(Aug 25 2024 at 19:42)</a>:</h4>
<p><span class="user-mention" data-user-id="522729">@Dan Dickey</span> <br>
The latest crash is in OpenGL driver.  Probably not related.<br>
As forward motion on AISAlertDialog crash:<br>
This may not be very rewarding, but we might learn some more.  If  during <code>UpdateText()</code>we find that the m_pAlertTextCtl is busted, why not just delete it and make a new one?</p>
<div class="codehilite"><pre><span></span><code>   if (!m_pAlertTextCtl-&gt;GetInternalRepresentation()) {
      delete m_pAlertTextCtl;
      long style = wxHW_SCROLLBAR_AUTO;
      m_pAlertTextCtl =
          new wxHtmlWindow(this, wxID_ANY, wxDefaultPosition, wxDefaultSize, style);
      m_pAlertTextCtl-&gt;SetBorders(5);
      m_pAlertTextCtl-&gt;SetScrollRate(1, 1);
    }
</code></pre></div>
<p>I know, not at all pretty.  But still, if this avoids a crash, then we are somewhat better.  Even if we do not understand the root cause.</p>



<a name="465038258"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465038258" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465038258">(Aug 25 2024 at 19:43)</a>:</h4>
<p>Or, maybe try with Alert sound disabled, nods to Alec.</p>



<a name="465040613"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465040613" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465040613">(Aug 25 2024 at 20:21)</a>:</h4>
<p>Alert sounds are already off in this scenario.<br>
Another crash found.  I had modified the main loop exception code as follows:<br>
<a href="/user_uploads/33951/Waz-aXBaX1AfePt_whB6Wo7t/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/33951/Waz-aXBaX1AfePt_whB6Wo7t/image.png" title="image.png"><img data-original-dimensions="1920x1032" src="/user_uploads/thumbnail/33951/Waz-aXBaX1AfePt_whB6Wo7t/image.png/840x560.webp"></a></div><p>Log file snippit after those changes made:</p>
<div class="codehilite"><pre><span></span><code>15:00:00.840 MESSAGE ocpn_frame.cpp:5616 LOGBOOK:  2024-08-25 20:00:00 UTC  GPS Lat   37.81550 Lon -122.47238 COG  281.00000 SOG   7.10 kts
15:15:21.480 WARNING ocpn_app.cpp:960 Caught MainLoopException, continuing...
15:15:21.483   ERROR ocpn_app.cpp:964 Memory allocation failure: bad allocation
15:15:21.516   DEBUG msgdlg.cpp:559 C:\storage\transmitterdan\ocpn_wxWidgets\src\msw\msgdlg.cpp(559): 'TaskDialogIndirect' failed with error 0x80004005 (Unspecified error).
15:15:21.552 MESSAGE ocpn_app.cpp:1966 opencpn::MyApp starting exit.
15:15:21.554 MESSAGE ocpn_app.cpp:2006 LOGBOOK:  2024-08-25 20:15:21 UTC OFF: Lat   37.81517 Lon -122.50046 COG  266.60000 SOG   6.50 kts
15:15:21.554 MESSAGE TCDataSource.cpp:41 UnLoading Tide/Current data source: tcdata\harmonics-dwf-20210110-free.tcd
15:15:21.607 MESSAGE TCDataSource.cpp:41 UnLoading Tide/Current data source: tcdata\HARMONICS_NO_US.IDX
15:15:21.621 MESSAGE ocpn_app.cpp:2034 opencpn::MyApp exiting cleanly...
</code></pre></div>



<a name="465041502"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465041502" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465041502">(Aug 25 2024 at 20:36)</a>:</h4>
<p>I like your new code around exception handling.<br>
So, can we put a breakpoint here and get a stack trace on failure?</p>



<a name="465048232"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465048232" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465048232">(Aug 25 2024 at 22:49)</a>:</h4>
<p>We can put a breakpoint.  But stacktrace from a call from the main message loop dispatcher isn't usually very interesting.  A breakpoint at the point that raised the exception is probably more fruitful which I am trying now.</p>



<a name="465048680"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465048680" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465048680">(Aug 25 2024 at 22:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="517002">Dave Register</span> <a href="#narrow/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0/near/465041502">said</a>:</p>
<blockquote>
<p>I like your new code around exception handling.</p>
</blockquote>
<p>Copilot wrote it. Ha ha.</p>



<a name="465056075"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465056075" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465056075">(Aug 26 2024 at 00:27)</a>:</h4>
<p><span class="user-mention" data-user-id="522729">@Dan Dickey</span> <br>
Considering the recent crashes. I am beginning to think that this all has nothing to do with OCPN.  The AISAlertDialog may be just a signal of more fundamental memory problems on your machine.  We have chased it around, and now it has gone back into hiding, only to surface somewhere else completely unrelated.  A familiar signature...<br>
No surprise, of course, but I suspect the OpenGL driver in this case.<br>
Easy to check.  Switch to normal DC rendering, and see if the system stabilizes.</p>



<a name="465060088"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465060088" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465060088">(Aug 26 2024 at 01:26)</a>:</h4>
<p><span class="user-mention" data-user-id="517002">@Dave Register</span>  I think there is something wrong with the process of  unzipping downloaded chart files.  Just did an experiment of downloading latest ENCs for the region around San Fran and boom. Everything went haywire.<br>
<a href="/user_uploads/33951/JxBiQWXytEbmhd8NxhxASdb1/opencpn.log">opencpn.log</a></p>



<a name="465068689"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465068689" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465068689">(Aug 26 2024 at 02:45)</a>:</h4>
<p><span class="user-mention" data-user-id="522729">@Dan Dickey</span> <br>
What can I say?  Works fine here.  This is very mature code. No other field reports of anything like this.<br>
I suppose that it is just possible that the Debug logging is somehow exploding memory...<br>
I note that nearly 1 hour passed between downloading of charts and serious trouble.</p>
<div class="codehilite"><pre><span></span><code>19:05:56.249 MESSAGE chartdldr_pi.cpp:2020 chartdldr_pi: Going to extract &#39;C:\storage\transmitterdan\Charts\ENC\US_REGION14\US5WA70M.zip&#39;.
19:30:00.916 MESSAGE ocpn_frame.cpp:5616 LOGBOOK:  2024-08-26 00:30:00 UTC  GPS Lat   37.81689 Lon -122.61119 COG  287.34433 SOG   5.86 kts
19:51:49.606   DEBUG dib.cpp:141 C:\storage\transmitterdan\ocpn_wxWidgets\src\msw\dib.cpp(141): &#39;CreateDIBSection&#39; failed with error 0x00000008 (Not enough memory resources are available to process this command.).
19:51:49.621   ERROR dlmsw.cpp:167 Failed to load shared library
</code></pre></div>



<a name="465069502"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465069502" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465069502">(Aug 26 2024 at 02:50)</a>:</h4>
<p>Not trying to gaslight you, or minimize the severity of the faults.<br>
But this sort of chasing apparently unrelated bugs left and right is almost always indicative of memory corruption  issues, potentially even hardware troubles.<br>
Recommend that you temporarily revert to O584, and try to get to some stability.</p>



<a name="465069844"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465069844" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465069844">(Aug 26 2024 at 02:53)</a>:</h4>
<p>There are tools available for Windows that force memory heap checking on every alloc/free operation.  This could be useful.<br>
<a href="https://learn.microsoft.com/en-us/cpp/c-runtime-library/crt-debug-heap-details?view=msvc-170">https://learn.microsoft.com/en-us/cpp/c-runtime-library/crt-debug-heap-details?view=msvc-170</a></p>



<a name="465186399"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/465186399" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Dickey <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#465186399">(Aug 26 2024 at 13:29)</a>:</h4>
<p>Dave, thanks for suggestions. I am close to having this issue reproducible I think. Let me work on that and see if I can create a test case that reliably fails. Right not it’s too hit and miss.</p>



<a name="467282961"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/467282961" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#467282961">(Sep 03 2024 at 15:05)</a>:</h4>
<p><span class="user-mention" data-user-id="399510">@Alec Leamas</span> <br>
I see that you are working flathub builds.<br>
The patches you have added are mostly what I plan for 5.10.2, so nice to test ahead of time.  I have a local branch "v5.10.x", where I am accumulating cherry-picks.  Not quite ready to push and tag, but soon.  Only blocker is (still) mbtiles on WIndows.  I continue to fuss with tile memory management.</p>
<p>Did you remember the patch for access to host's /etc directory?</p>



<a name="467293322"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/467293322" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#467293322">(Sep 03 2024 at 15:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="517002">Dave Register</span> <a href="#narrow/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0/near/467282961">said</a>:</p>
<blockquote>
<p>Did you remember the patch for access to host's /etc directory?</p>
</blockquote>
<p>No, so far I have focused on the patches which have been available on master for some time and thus have been minimally tested.</p>
<p>I can add it later today, it's not much work.</p>
<p>I have BTW added the same patches besides the last two TileCache ones also to the crabdance bookworm repos.</p>
<p>The official backport is finally under way.  I need it to pass a final administrative step. After that I can push myself, exactly as for sid/trixie.</p>



<a name="467499394"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/467499394" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#467499394">(Sep 04 2024 at 11:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="517002">Dave Register</span> <a href="#narrow/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0/near/467282961">said</a>:</p>
<blockquote>
<p>Did you remember the patch for access to host's /etc directory?</p>
</blockquote>
<p>Done, release 5</p>



<a name="468427514"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/468427514" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#468427514">(Sep 07 2024 at 15:36)</a>:</h4>
<p><span class="user-mention" data-user-id="399510">@Alec Leamas</span> <br>
I have this on my 5.10.2 list:</p>
<div class="codehilite"><pre><span></span><code>15.   Some trouble with send to peer.
        CF post/thread
                https://www.cruisersforum.com/forums/f134/ocpn-5-10-0-and-send-to-peer-288593-2.html#post3925759
        .need to fix crabdance repo to use curl-ssl instead of curl-gnu
        On Alec&#39;s list.
</code></pre></div>
<p>Thoughts?</p>
<p>Other wise, my list nearly done.  Building O5.10.2 branch/tag now.<br>
Ready Real Soon Now.</p>



<a name="468432818"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/468432818" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#468432818">(Sep 07 2024 at 16:08)</a>:</h4>
<p>Already fixed</p>



<a name="468442109"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/468442109" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#468442109">(Sep 07 2024 at 17:08)</a>:</h4>
<p>Great. Thanks</p>



<a name="468552944"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/468552944" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#468552944">(Sep 08 2024 at 11:11)</a>:</h4>
<p>BTW, when you announce this: This version will not be going into the crabdance repo, it will be available in  official bookworm-backports only. It will take about a week after the tag is available.</p>
<p>The actual diff between new version and current Debian version is probably minimal, most patches are already in place.</p>



<a name="468567462"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/468567462" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#468567462">(Sep 08 2024 at 13:29)</a>:</h4>
<p>That's great news.<br>
So our friend crabdance waits patiently for the next Beta series, whenever...</p>



<a name="469269060"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/432618-OCPN%205.10%20Release%20plan/topic/Production%20Release%205.10.0/near/469269060" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/432618-OCPN-5.2E10-Release-plan/topic/Production.20Release.205.2E10.2E0.html#469269060">(Sep 11 2024 at 03:36)</a>:</h4>
<p>Service Release 5.10.2 is prepared, and ready to go.<br>
Tag is:  "Release_5.10.2"</p>



<hr><p>Last updated: Feb 02 2025 at 07:09 UTC</p>
</html>