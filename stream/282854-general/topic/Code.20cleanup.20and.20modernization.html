<html>
<head><meta charset="utf-8"><title>Code cleanup and modernization · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://leamas.github.io/zulip-archive/stream/282854-general/index.html">general</a></h2>
<h3>Topic: <a href="https://leamas.github.io/zulip-archive/stream/282854-general/topic/Code.20cleanup.20and.20modernization.html">Code cleanup and modernization</a></h3>

<hr>

<base href="https://opencpn.zulipchat.com">

<head><link href="https://leamas.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="490604426"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/282854-general/topic/Code%20cleanup%20and%20modernization/near/490604426" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sebastien Rosset <a href="https://leamas.github.io/zulip-archive/stream/282854-general/topic/Code.20cleanup.20and.20modernization.html#490604426">(Dec 24 2024 at 00:03)</a>:</h4>
<p>Is it ok/useful to have simple PRs  to modernize some of the code base? For example, changing "0" and NULL to <code>nullptr</code>. I find it's a lot easier to read the code</p>
<div class="codehilite" data-code-language="C++"><pre><span></span><code><span class="n">prevDataSet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span>
</code></pre></div>
<p>rather than the code below, which makes you believe it's an integer. Obviously, one can find the type by looking at the declaration, but it seems this is the kind of thing that should be more immediate.</p>
<div class="codehilite" data-code-language="C++"><pre><span></span><code><span class="n">prevDataSet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</code></pre></div>
<p>The reason I ask is I started investigating a memory leak in the grib plugin, which I would like to fix. Before I do that, I've found that doing  a bit of code cleanup and writing code comments helps to get more familiar with the code base, as well as hopefully helping future contributors.<br>
Thank you.</p>



<a name="490606056"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/282854-general/topic/Code%20cleanup%20and%20modernization/near/490606056" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pavel Kalian <a href="https://leamas.github.io/zulip-archive/stream/282854-general/topic/Code.20cleanup.20and.20modernization.html#490606056">(Dec 24 2024 at 00:20)</a>:</h4>
<p>As far as I'm concerned this is more than welcome</p>



<a name="490606485"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/282854-general/topic/Code%20cleanup%20and%20modernization/near/490606485" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sebastien Rosset <a href="https://leamas.github.io/zulip-archive/stream/282854-general/topic/Code.20cleanup.20and.20modernization.html#490606485">(Dec 24 2024 at 00:24)</a>:</h4>
<p>Thanks for the quick response. This helps to know if I'm on the right track or not. <a href="https://github.com/OpenCPN/OpenCPN/pull/4276">https://github.com/OpenCPN/OpenCPN/pull/4276</a></p>
<p>A similar modernization is to upgrade to c++20 (from c++17): <a href="https://github.com/OpenCPN/OpenCPN/pull/4262">https://github.com/OpenCPN/OpenCPN/pull/4262</a>. But perhaps there are reason to retain c++17 that I am not aware of.</p>



<a name="490616081"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/282854-general/topic/Code%20cleanup%20and%20modernization/near/490616081" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pavel Kalian <a href="https://leamas.github.io/zulip-archive/stream/282854-general/topic/Code.20cleanup.20and.20modernization.html#490616081">(Dec 24 2024 at 02:01)</a>:</h4>
<p>I'm not sure the Android toolchain is C++20 capable, otherwise it should be available everywhere and I'm of course supportive of using it.</p>



<a name="490619880"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/282854-general/topic/Code%20cleanup%20and%20modernization/near/490619880" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sebastien Rosset <a href="https://leamas.github.io/zulip-archive/stream/282854-general/topic/Code.20cleanup.20and.20modernization.html#490619880">(Dec 24 2024 at 02:38)</a>:</h4>
<p>Link to ndk c++ version support: <a href="https://developer.android.com/ndk/guides/cpp-support#cs">https://developer.android.com/ndk/guides/cpp-support#cs</a></p>



<hr><p>Last updated: Jan 09 2025 at 18:48 UTC</p>
</html>