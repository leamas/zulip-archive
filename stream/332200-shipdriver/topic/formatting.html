<html>
<head><meta charset="utf-8"><title>formatting · shipdriver · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/index.html">shipdriver</a></h2>
<h3>Topic: <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/topic/formatting.html">formatting</a></h3>

<hr>

<base href="https://opencpn.zulipchat.com">

<head><link href="https://leamas.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="389414042"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332200-shipdriver/topic/formatting/near/389414042" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/topic/formatting.html#389414042">(Sep 06 2023 at 12:57)</a>:</h4>
<p>Formatting seems to be on the agenda. I have thought about this earlier, but did want to bother you. However, it's now on the table.</p>
<p>As I said in your PR, the tool used in the OpenCPN core is clang-format. Looking at shipdriver, .clang-format is already in place so it should be simple to use it.  Using a single tool is just much simpler than trying to define formatting rules.</p>
<p>The question is just how to best apply this to windows users whcih are lost in VS :). However, there seems to be a clang-format plugin available for VS. Perhaps you could make a test with that one, formatting some files?.</p>
<p>Be prepared to that the formatting rules feels a bit awkward in the beginning, that was my experience. However, one get's used to it quite fast, took some days for me. And nothing in this formatting is set in stone, it's only about .clang-format which could be tweaked in all sorts of ways. However,  better to avoid that.</p>



<a name="389414114"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332200-shipdriver/topic/formatting/near/389414114" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/topic/formatting.html#389414114">(Sep 06 2023 at 12:57)</a>:</h4>
<p>As for line ends: Have you had any actual problems with this lately?</p>



<a name="389414621"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332200-shipdriver/topic/formatting/near/389414621" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/topic/formatting.html#389414621">(Sep 06 2023 at 13:00)</a>:</h4>
<p><span class="user-mention" data-user-id="399559">@Mike Rossiter</span>  ^</p>



<a name="389426622"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332200-shipdriver/topic/formatting/near/389426622" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Rossiter <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/topic/formatting.html#389426622">(Sep 06 2023 at 13:52)</a>:</h4>
<blockquote>
<p>As for line ends: Have you had any actual problems with this lately?</p>
</blockquote>
<p>No.  Github Desktop now seems to be set up to avoid these.</p>
<p>Had a look at VS formatting.  Google style works but using .clang-format does not.</p>
<p><a href="/user_uploads/33951/rCnofcU9i7j16JAKFrJsNqk1/.clang-format-not-working.jpg">.clang-format-not-working.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/33951/rCnofcU9i7j16JAKFrJsNqk1/.clang-format-not-working.jpg" title=".clang-format-not-working.jpg"><img src="/user_uploads/33951/rCnofcU9i7j16JAKFrJsNqk1/.clang-format-not-working.jpg"></a></div>



<a name="389426932"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332200-shipdriver/topic/formatting/near/389426932" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Rossiter <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/topic/formatting.html#389426932">(Sep 06 2023 at 13:53)</a>:</h4>
<p>VS talks about using a custom clang-format.exe file.</p>



<a name="389428265"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332200-shipdriver/topic/formatting/near/389428265" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Rossiter <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/topic/formatting.html#389428265">(Sep 06 2023 at 13:58)</a>:</h4>
<p>Indentation with Google style is 3 spaces.</p>



<a name="389430320"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332200-shipdriver/topic/formatting/near/389430320" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Rossiter <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/topic/formatting.html#389430320">(Sep 06 2023 at 14:04)</a>:</h4>
<p>.clang-format file differs in ShipDriver cf OpenCPN. <em>IndentWidth:     2</em> in OpenCPN, <em>IndentWidth:     4</em> in ShipDriver clang-format file.</p>



<a name="389440480"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332200-shipdriver/topic/formatting/near/389440480" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/topic/formatting.html#389440480">(Sep 06 2023 at 14:34)</a>:</h4>
<blockquote>
<p>VS talks about using a custom clang-format.exe file.</p>
</blockquote>
<p>well, that would then mean that the "plugin" just is a thin wrapper for the proper clang-format which you then need to install. Here is some docs which may  work: <a href="https://www.dynamsoft.com/codepool/vscode-format-c-code-windows-linux.html">https://www.dynamsoft.com/codepool/vscode-format-c-code-windows-linux.html</a></p>
<blockquote>
<p>No. Github Desktop now seems to be set up to avoid these.</p>
</blockquote>
<p>It's actually not so much GD, the conversion to/from CRLF &lt;-&gt; LF is governed by the .gitattributes file.. Anyway, we can put this behind us as I presumed.</p>
<blockquote>
<p>Indentation with Google style is 3 spaces.</p>
</blockquote>
<p>No, it's 2, see <a href="https://google.github.io/styleguide/cppguide.html">https://google.github.io/styleguide/cppguide.html</a>. If it is anything else, it's not google.  The core issue here is that .clang-format isn't used, probably  because the VS plugin tries to mimic clang-format rather than actuallly running it. Installing clang-format as of above should do the trick</p>



<a name="389450884"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332200-shipdriver/topic/formatting/near/389450884" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Rossiter <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/topic/formatting.html#389450884">(Sep 06 2023 at 15:13)</a>:</h4>
<p>Think .clang-format is now being used. Installed the clang tools. <br>
Now ... should we copy the .clang-format file from OpenCPN to ShipDriver?</p>



<a name="390287260"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332200-shipdriver/topic/formatting/near/390287260" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/topic/formatting.html#390287260">(Sep 11 2023 at 11:13)</a>:</h4>
<blockquote>
<p>Now ... should we copy the .clang-format file from OpenCPN to ShipDriver?</p>
</blockquote>
<p>Yes, we should.</p>



<a name="390319056"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332200-shipdriver/topic/formatting/near/390319056" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Rossiter <a href="https://leamas.github.io/zulip-archive/stream/332200-shipdriver/topic/formatting.html#390319056">(Sep 11 2023 at 14:10)</a>:</h4>
<blockquote>
<p>Now ... should we copy the .clang-format file from OpenCPN to ShipDriver?<br>
Yes, we should.</p>
</blockquote>
<p>Done. Pushed to master.</p>



<hr><p>Last updated: Feb 28 2025 at 21:42 UTC</p>
</html>