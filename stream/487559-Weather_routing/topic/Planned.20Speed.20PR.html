<html>
<head><meta charset="utf-8"><title>Planned Speed PR · Weather_routing · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://leamas.github.io/zulip-archive/stream/487559-Weather_routing/index.html">Weather_routing</a></h2>
<h3>Topic: <a href="https://leamas.github.io/zulip-archive/stream/487559-Weather_routing/topic/Planned.20Speed.20PR.html">Planned Speed PR</a></h3>

<hr>

<base href="https://opencpn.zulipchat.com">

<head><link href="https://leamas.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="515293691"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/487559-Weather_routing/topic/Planned%20Speed%20PR/near/515293691" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Gleason <a href="https://leamas.github.io/zulip-archive/stream/487559-Weather_routing/topic/Planned.20Speed.20PR.html#515293691">(Apr 30 2025 at 12:40)</a>:</h4>
<p>Sebastien, can you explain what is happening and why?  I thought this PR was dependent on api120, now it seems to be moving to api118 which is fine, but we should understand what the plan is.</p>
<p><a href="https://github.com/rgleason/weather_routing_pi/commit/98f9bf6e4615a205bd8b817398b33acf71586195"># Commit 98f9bf6</a>  Use newer version of api.</p>
<p><code>PlugIn_Route_Ex* newRoute = new PlugIn_Route_Ex;</code></p>
<p><code>AddPlugInRouteEx(newRoute);</code></p>
<p>Then it is reverted <a href="https://github.com/rgleason/weather_routing_pi/commit/7b5df829a65a568248fec5e94ab08e2f8da93844">here</a></p>
<p>===<br>
Also about <a href="https://github.com/rgleason/weather_routing_pi/commit/9332005095838494fee445deec086a8a6930ab75">WeatherRouting Table</a></p>
<p>GetAppColorScheme line 1804 in weatherrouting.cpp has to be dropped as it is in api119 and not in api118, unless you'd like to upgrade to that shortly when OpenCPN is released.</p>
<div class="codehilite"><pre><span></span><code>// Set color scheme using GetAppColorScheme() from the OpenCPN API
PI_ColorScheme cs = GetAppColorScheme();
</code></pre></div>



<a name="515320586"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/487559-Weather_routing/topic/Planned%20Speed%20PR/near/515320586" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Gleason <a href="https://leamas.github.io/zulip-archive/stream/487559-Weather_routing/topic/Planned.20Speed.20PR.html#515320586">(Apr 30 2025 at 14:31)</a>:</h4>
<p><span class="user-mention" data-user-id="813668">@Sebastien Rosset</span>   Please see above. Thanks.</p>



<a name="515326349"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/487559-Weather_routing/topic/Planned%20Speed%20PR/near/515326349" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sebastien Rosset <a href="https://leamas.github.io/zulip-archive/stream/487559-Weather_routing/topic/Planned.20Speed.20PR.html#515326349">(Apr 30 2025 at 14:54)</a>:</h4>
<p>Wrt to <code>GetAppColorScheme</code>, I have fixed the issue in <a href="https://github.com/rgleason/weather_routing_pi/pull/323">https://github.com/rgleason/weather_routing_pi/pull/323</a></p>
<p>You can put this in the master branch. There is no need to comment out, it's conditional compilation, so effectively the same code works with API 118 and API 119/120.</p>



<a name="515326616"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/487559-Weather_routing/topic/Planned%20Speed%20PR/near/515326616" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sebastien Rosset <a href="https://leamas.github.io/zulip-archive/stream/487559-Weather_routing/topic/Planned.20Speed.20PR.html#515326616">(Apr 30 2025 at 14:55)</a>:</h4>
<p>For the "planned speed", this feature depends on a PR that was merged to OpenCPN core, but then subsequently reverted by Dave. So that plugin API does not exist yet, even in API 120.</p>



<a name="515330542"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/487559-Weather_routing/topic/Planned%20Speed%20PR/near/515330542" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rick Gleason <a href="https://leamas.github.io/zulip-archive/stream/487559-Weather_routing/topic/Planned.20Speed.20PR.html#515330542">(Apr 30 2025 at 15:09)</a>:</h4>
<ol>
<li>Darn, why was planned speed reverted for 120 ? that is a setback.</li>
<li>I see it is conditional now and you have changed line 1803 and  634 in routingtable.cpp</li>
<li>Ok I will link to this for the Issue I posted  and close it.</li>
<li>The builds that fail are not finding tarballs, don't know why yet.  Jon and I made changes so these build should deploy to CS-alpha.  It looks like <a href="https://cloudsmith.io/~opencpn/repos/weather-routing-alpha/packages/?q=1.15.23.0+tarball">13 tarballs were added at that time</a>   so it is deploying, the 3 debian builds did not find tarballs and failed.</li>
<li>I will PR and merge with master now.</li>
</ol>



<hr><p>Last updated: Jul 27 2025 at 07:31 UTC</p>
</html>