<html>
<head><meta charset="utf-8"><title>Data Monitor (#4400) · Master · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/index.html">Master</a></h2>
<h3>Topic: <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html">Data Monitor (#4400)</a></h3>

<hr>

<base href="https://opencpn.zulipchat.com">

<head><link href="https://leamas.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="505937256"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/505937256" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#505937256">(Mar 16 2025 at 08:58)</a>:</h4>
<p><span class="user-mention" data-user-id="522486">@Håkan Svensson</span>  For now, this is basically about why we get different results.  To handle this we need to back down to a common point as simple as possible which works for both of us.</p>
<p>Build questions:</p>
<ul>
<li>Have you built the same commit as me (#0107ad943)?</li>
<li>Have you made a complete build from scratch?</li>
<li>Have you made a full install?</li>
</ul>
<p>Plugins:</p>
<ul>
<li>Do you get the same results if running in safe mode?</li>
</ul>
<p>Configuration:</p>
<ul>
<li>If you remove current opencpn.conf (after a backup) and then just adds an UDP input channel, do you still get the  2. problem?</li>
<li>If you then add a serial input on COM3, do you still get the unnamed connection problem 1?</li>
</ul>



<a name="505993056"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/505993056" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#505993056">(Mar 16 2025 at 20:25)</a>:</h4>
<p>So far only handle N0183. Leave the rest so far.<br>
Build questions:</p>
<ul>
<li>Yes</li>
<li>Yes</li>
<li>
<p>Yes<br>
Plugins:</p>
</li>
<li>
<p>Not sure what plugin problem you refer to<br>
Conf:</p>
</li>
</ul>
<ol>
<li>Not tested. await with that. (Why should several sources disturb?)</li>
<li>No, the input messages have a correct source name. But outgoing on the same port does not. See picture 2.<br>
Pict1: For the input only port 10110. a) Why red messages. (No filter here)  b) Why blue, that's not true.<br>
<a href="/user_uploads/33951/Z3NX3DZSoBiHvPToQbXr2cqW/bild.png">bild.png</a><div class="message_inline_image"><a href="/user_uploads/33951/Z3NX3DZSoBiHvPToQbXr2cqW/bild.png" title="bild.png"><img data-original-content-type="image/png" data-original-dimensions="1797x691" src="/user_uploads/thumbnail/33951/Z3NX3DZSoBiHvPToQbXr2cqW/bild.png/840x560.webp"></a></div></li>
</ol>
<p>Pict 2: <br>
Incoming on COM6 shows the correct source name.  But the blue on the rows where it's named COM6.. are not correct.<br>
The filtered and correct outgoing messages on  COM6 are shown but still is the source name missing "COM6"</p>
<p><a href="/user_uploads/33951/BuCvYHJZhN5WjQyqx6piMrkQ/bild.png">bild.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/33951/BuCvYHJZhN5WjQyqx6piMrkQ/bild.png" title="bild.png"><img data-original-content-type="image/png" data-original-dimensions="1564x584" src="/user_uploads/thumbnail/33951/BuCvYHJZhN5WjQyqx6piMrkQ/bild.png/840x560.webp"></a></div>



<a name="505995356"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/505995356" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#505995356">(Mar 16 2025 at 20:52)</a>:</h4>
<p>Note that when you say you have built the same commit as me it means that  it should no be merged in any way. <code>git rev-parse --short HEAD</code> prints <em>0107ad943</em>, right?</p>
<p>We need to make our test environment as small as possible so we can  get the same results. Thats the reason for using safe mode, it's the only way we can be sure that we both have the same plugins involved. Resetting the config file serves the same purpose, we get more common ground.</p>
<blockquote>
<p>The filtered and correct outgoing messages on COM6 are shown but still is the source name missing "COM6"</p>
</blockquote>
<p>Works fine for me:<br>
<a href="/user_uploads/33951/eyWLbm7PB2ei4IYRinOcg1U_/image.png">image.png</a><br>
<a href="/user_uploads/33951/1ZcEzWDD5q0G3vHry6YgEbjD/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/33951/eyWLbm7PB2ei4IYRinOcg1U_/image.png" title="image.png"><img data-original-content-type="image/png" data-original-dimensions="598x267" src="/user_uploads/thumbnail/33951/eyWLbm7PB2ei4IYRinOcg1U_/image.png/840x560.webp"></a></div><div class="message_inline_image"><a href="/user_uploads/33951/1ZcEzWDD5q0G3vHry6YgEbjD/image.png" title="image.png"><img data-original-content-type="image/png" data-original-dimensions="435x152" src="/user_uploads/thumbnail/33951/1ZcEzWDD5q0G3vHry6YgEbjD/image.png/840x560.webp"></a></div>



<a name="505998568"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/505998568" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#505998568">(Mar 16 2025 at 21:31)</a>:</h4>
<div class="codehilite"><pre><span></span><code>&quot;Works fine for me&quot;
</code></pre></div>
<p>?? The red lines? What did you filter out from incoming?<br>
?? Blue lines . Did you send all out?<br>
And if you really send out messages by COM3, e.g. only "EC" by a "Navigate to here". What' that look like</p>



<a name="506013901"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506013901" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506013901">(Mar 17 2025 at 00:05)</a>:</h4>
<div class="codehilite"><pre><span></span><code>Note that when you say you have built the same commit as me it means that it should no be merged in any way. `git rev-parse --short HEAD` prints *0107ad943*, right?
</code></pre></div>
<p>Yes: <em>0107ad943</em><br>
"Not merged in any way"??  I suppose you want to merge this PR into Git master? <br>
What I do is to make a "test" branch from master. Then: "git fetch origin pull/4400/head:pr_4400". To finalize I merge pr_4400 into "test" and rebuild from scratch.  What else can I do?</p>



<a name="506056903"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506056903" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506056903">(Mar 17 2025 at 06:53)</a>:</h4>
<blockquote>
<p>To finalize I merge pr_4400 into "test" </p>
</blockquote>
<p>This means that you and I are not testing the same code.</p>
<blockquote>
<p>What else can I do?</p>
</blockquote>
<div class="codehilite"><pre><span></span><code>$ git fetch origin pull/4400/head:pr_4400
$ git checkout pr_4400
</code></pre></div>
<p>Rebuild from scratch</p>



<a name="506071466"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506071466" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506071466">(Mar 17 2025 at 08:08)</a>:</h4>
<p>The difference may be I use latest master. But Now I also have directly built pr_4400<br>
I see no difference compared my previous observations. </p>
<p>One thing maybe not explicitly noted. The source name is sometimes truncated and there's no way to extend the column width, see pict</p>
<p><a href="/user_uploads/33951/rLgQ4EHvRNAIvwrcX2pvhPS4/bild.png">bild.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/33951/rLgQ4EHvRNAIvwrcX2pvhPS4/bild.png" title="bild.png"><img data-original-content-type="image/png" data-original-dimensions="1480x136" src="/user_uploads/thumbnail/33951/rLgQ4EHvRNAIvwrcX2pvhPS4/bild.png/840x560.webp"></a></div>



<a name="506072191"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506072191" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506072191">(Mar 17 2025 at 08:10)</a>:</h4>
<blockquote>
<p>The source name is sometimes truncated and there's no way to extend the column width</p>
</blockquote>
<p>Yes, this is by design</p>
<blockquote>
<p>But Now I also have directly built pr_4400<br>
I see no difference compared my previous observations.</p>
</blockquote>
<p>To be honest, I didn't expect any differences. But it's part of the game to get my and your setup so similar that I can reproduce your results.</p>



<a name="506402923"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506402923" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506402923">(Mar 18 2025 at 07:14)</a>:</h4>
<p>That's understood.  I suggest to change that. The full IP-address as well as the info about connection type e.g. UDP/TCP can be valuable for the user.</p>



<a name="506410778"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506410778" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506410778">(Mar 18 2025 at 08:09)</a>:</h4>
<p>This is basically an RFE. We need to merge this before adding more functionality. If in actual doubt, the full  interface is available in the log files.</p>



<a name="506410917"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506410917" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506410917">(Mar 18 2025 at 08:09)</a>:</h4>
<p>Anything more?</p>



<a name="506462160"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506462160" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506462160">(Mar 18 2025 at 12:08)</a>:</h4>
<p>I'm not at all asking for more functionality, but what's there to be functional.<br>
Shorts as earlier reported:<br>
All false red rejected message for incoming traffic.  <br>
False blue lines for outbound traffic on input connections as soon as an output port of any kind is active. <br>
No connection name, COMx. in the case of actual output traffic on a connection.</p>
<p>And I still don't think it's time to merge this.</p>



<a name="506462935"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506462935" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506462935">(Mar 18 2025 at 12:12)</a>:</h4>
<p>We are close.</p>
<p>In order to handle your observations I need testcase(s)  where I can reproduce your findings.  Such testcases needs to be somewhat detailed and only involving input I can reproduce.  Can  you provide this in a structured way, one thing at a time it would be helpful.</p>



<a name="506509321"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506509321" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506509321">(Mar 18 2025 at 15:17)</a>:</h4>
<p>In your shot above. Are all red and blue messages correct?<br>
Make a real output on your COM3 by for example a "Navigate to here" Does the source name include COM3 then?</p>



<a name="506512569"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506512569" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506512569">(Mar 18 2025 at 15:30)</a>:</h4>
<blockquote>
<p>In your shot above. Are all red and blue messages correct?<br>
Make a real output on your COM3 by for example a "Navigate to here" Does the source name include COM3 then?</p>
</blockquote>
<p>Sorry. I'm too dumb to do this. Can you explain to me like I was a child? What are the actual steps starting from scratch?</p>



<a name="506569618"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506569618" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506569618">(Mar 18 2025 at 20:01)</a>:</h4>
<p>On your COM3<br>
Set a output filter to output only "EC". That so you know no more than $CDxxx wil be sent out.<br>
You are receiving some input on COM3, black and left arrow. That's correct listed.<br>
All input are also shown mirrored in red and a left arrow. But that's not true since you <br>
have just received it.<br>
Since you have at least one active output (COM3) the input message is also shown in blue as output, right arrow. You know it's not true since the output filter hinders that.</p>
<p>Now somewhere nere the boat right click and select "Navigate to here". Then some real output messages e.g. $ECRMC will appear as blue output on COM3 but the source is just named "nmea0183". The outputs are correct but the name: COM3 is missing.</p>
<p>Let's start there.</p>



<a name="506570375"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506570375" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506570375">(Mar 18 2025 at 20:05)</a>:</h4>
<p>Sorry, I don't parse. <em>You are receiving some input on COM3</em>  What input? from where?</p>
<p>Test cases are normally structured like :</p>
<ol>
<li>Start with a clean sheet.</li>
<li>Do this</li>
<li>Do that.</li>
<li>See error.</li>
</ol>
<p>That is, more or less like the bug form. Can you do something like that?</p>



<a name="506575905"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506575905" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506575905">(Mar 18 2025 at 20:37)</a>:</h4>
<p>I was referring to your screenshot where you said: "Works fine for me:"  There you have a working COM3, or?</p>



<a name="506576154"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506576154" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506576154">(Mar 18 2025 at 20:39)</a>:</h4>
<p>Ni idea if  it works the expected way. We must do this from start, from a clean sheet. Which steps should I do?</p>



<a name="506663457"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506663457" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506663457">(Mar 19 2025 at 08:32)</a>:</h4>
<p>As said:<br>
On your COM3 (In and Out)</p>
<ol>
<li>Set a output filter to output only "EC". That so you know no more than $ECxxx will be sent out. </li>
<li>You are receiving some input on COM3, black and left arrow. That's correct listed.</li>
<li>All input are also shown mirrored in red and a left arrow. But that's not true since you have just received it.</li>
<li>Since you have at least one active output (COM3) the input message is also shown in blue as output, right arrow. You know it's not true since the output filter hinders that.</li>
<li>Now on the chart somewhere nere the boat right click and select "Navigate to here". Then some real output messages e.g. $ECRMC will appear as blue output on COM3 but the source is just named "nmea0183". The outputs are correct but the name: COM3 is missing.</li>
</ol>
<p>Do you see the same?</p>



<a name="506663586"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506663586" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506663586">(Mar 19 2025 at 08:32)</a>:</h4>
<blockquote>
<p>You are receiving some input on COM3, black and left arrow. That's correct listed.</p>
</blockquote>
<p>What kind of input?</p>



<a name="506669383"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506669383" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506669383">(Mar 19 2025 at 08:55)</a>:</h4>
<p>... sorry, I'm mentally and partly also physically away. BAck later.</p>



<a name="506674159"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master/topic/Data%20Monitor%20%28%234400%29/near/506674159" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master/topic/Data.20Monitor.20.28.234400.29.html#506674159">(Mar 19 2025 at 09:19)</a>:</h4>
<p>"What kind of input?"<br>
You showed a screen shot above where you have a COM3 probably connected to a GNNS device or similar. Use that.</p>



<hr><p>Last updated: Apr 23 2025 at 06:17 UTC</p>
</html>