<html>
<head><meta charset="utf-8"><title>Build status · Master - 5.8.0  (was: comms) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/index.html">Master - 5.8.0  (was: comms)</a></h2>
<h3>Topic: <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html">Build status</a></h3>

<hr>

<base href="https://opencpn.zulipchat.com">

<head><link href="https://leamas.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294523663"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/294523663" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#294523663">(Aug 21 2022 at 09:24)</a>:</h4>
<p>Windows builds are broken.</p>



<a name="294528111"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/294528111" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#294528111">(Aug 21 2022 at 10:23)</a>:</h4>
<p>Windows build is back again</p>



<a name="294869048"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/294869048" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#294869048">(Aug 23 2022 at 13:48)</a>:</h4>
<p>I have added flatpak builds to the comm branch. They currently fails, seems like a circleci  issue. Have filed a circleci support ticket, let's see what happens.</p>



<a name="295198208"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/295198208" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#295198208">(Aug 25 2022 at 10:17)</a>:</h4>
<p>Fixed the flatpak build.</p>



<a name="295198558"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/295198558" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#295198558">(Aug 25 2022 at 10:20)</a>:</h4>
<p>Disabled the MacOS build until #2752 is fixed. No point rebuilding known, not fixed errors -- having builds that always fails means that we won't spot other errors when they occur.</p>



<a name="295203268"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/295203268" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#295203268">(Aug 25 2022 at 10:54)</a>:</h4>
<p><span class="user-mention" data-user-id="518981">@Github Bot</span>  #2752</p>



<a name="295203272"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/295203272" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Bot <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#295203272">(Aug 25 2022 at 10:54)</a>:</h4>
<p><strong><a href="https://github.com/OpenCPN/OpenCPN/issues/2752">opencpn/OpenCPN#2752</a> - CI: MacOS builds broken</strong><br>
Created by <strong><a href="https://github.com/leamas">leamas</a></strong><br>
Status - <strong>Open</strong></p>
<blockquote>
<p><strong>Describe the bug</strong><br>
The MacOS CI builds are broken since ~some time~ at least a week, failing to rsync the macports sources</p>
<p><strong>To Reproduce</strong></p>
<ol>
<li>Make a commit to OpenCPN repo.</li>
<li>Push</li>
<li>Watch logs with failing MacOS build</li>
</ol>
<p><strong>Expected behavior</strong><br>
Well...</p>
<p><strong>Additional context</strong><br>
Typical error log here: <a href="https://app.circleci.com/pipelines/github/leamas/OpenCPN/2215/workflows/663bc861-a648-439a-9c0c-8613af7752ce/jobs/3907">https://app.circleci.com/pipelines/github/leamas/OpenCPN/2215/workflows/663bc861-a648-439a-9c0c-8613af7752ce/jobs/3907</a></p>
<p>Currently most OpenCPN work is on the comms branch, so the errors shows up here. Error has showed up for about a week,  last successful build about three weeks ago here: <a href="https://app.circleci.com/pipelines/github/leamas/OpenCPN/2185/workflows/3df9046a-f1cb-419c-bb7e-608e0955ee81">https://app.circleci.com/pipelines/github/leamas/OpenCPN/2185/workflows/3df9046a-f1cb-419c-bb7e-608e0955ee81</a></p>
</blockquote>



<a name="295203724"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/295203724" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#295203724">(Aug 25 2022 at 10:57)</a>:</h4>
<p>Current build status:</p>
<ul>
<li>Focal OK</li>
<li>Bionic: OK</li>
<li>Windows - OK</li>
<li>Macos: Disabled until #2752 is fixed</li>
<li>Flatpak: OK</li>
<li>Android-armhf: OK</li>
</ul>
<p>We should add some integration to the builders so results pops up in a common area. That is, automate these updates.</p>



<a name="297220036"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/297220036" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#297220036">(Sep 05 2022 at 12:39)</a>:</h4>
<p>Using today's code I again can't build on VS 2017 while including the test project:<br>
(Without "test" it builds as it should.)</p>
<blockquote>
<div class="codehilite"><pre><span></span><code>6&gt;tests.cpp
</code></pre></div>

<p>6&gt;   Creating library C:/Builds/OCPN/OpenCPN/build/test/RelWithDebInfo/tests.lib and object C:/Builds/OCPN/OpenCPN/build/test/RelWithDebInfo/tests.exp<br>
6&gt;AIS_Decoder.obj : error LNK2019: unresolved external symbol _mysnprintf referenced in function "private: class AIS_Target_Data * __thiscall AIS_Decoder::ProcessDSx(class wxString const &amp;,bool)" (?ProcessDSx@AIS_Decoder@@AAEPAVAIS_Target_Data@@ABVwxString@@_N@Z)<br>
6&gt;georef.obj : error LNK2001: unresolved external symbol _mysnprintf<br>
6&gt;AIS_Decoder.obj : error LNK2001: unresolved external symbol "class Select * pSelectAIS" (?pSelectAIS@@3PAVSelect@@A)<br>
6&gt;C:\Builds\OCPN\OpenCPN\build\test\RelWithDebInfo\tests.exe : fatal error LNK1120: 2 unresolved externals<br>
6&gt;Done building project "tests.vcxproj" -- FAILED.</p>
</blockquote>



<a name="297241075"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/297241075" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#297241075">(Sep 05 2022 at 15:06)</a>:</h4>
<p>OK, most likely my bad. I'll look into it.</p>



<a name="297367271"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/297367271" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#297367271">(Sep 06 2022 at 13:21)</a>:</h4>
<p>From yesterday I can't build at all. (VS2017) Have you succeed so it's only here?</p>
<blockquote>
<p>6&gt;   Creating library C:/Builds/OCPN/OpenCPN/build/RelWithDebInfo/opencpn-cmd.lib and object C:/Builds/OCPN/OpenCPN/build/RelWithDebInfo/opencpn-cmd.exp<br>
6&gt;comm_bridge.obj : error LNK2019: unresolved external symbol "public: enum AIS_Error __thiscall AIS_Decoder::DecodeSingleVDO(class wxString const &amp;,struct GenericPosDatEx *,class wxString *)" (?DecodeSingleVDO@AIS_Decoder@@QAE?AW4AIS_Error@@ABVwxString@@PAUGenericPosDatEx@@PAV3@@Z) referenced in function "public: bool __thiscall CommBridge::HandleN0183_AIVDO(class std::shared_ptr&lt;class Nmea0183Msg const &gt;)" (?HandleN0183_AIVDO@CommBridge@@QAE_NV?$shared_ptr@$$CBVNmea0183Msg@@@std@@@Z)<br>
6&gt;comm_bridge.obj : error LNK2001: unresolved external symbol "class AIS_Decoder * g_pAIS" (?g_pAIS@@3PAVAIS_Decoder@@A)<br>
6&gt;C:\Builds\OCPN\OpenCPN\build\RelWithDebInfo\opencpn-cmd.exe : fatal error LNK1120: 2 unresolved externals<br>
6&gt;Done building project "opencpn-cmd.vcxproj" -- FAILED.</p>
</blockquote>



<a name="297521717"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/297521717" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#297521717">(Sep 07 2022 at 04:56)</a>:</h4>
<p>I'd love to test the new features but still can't build on my Win environment. Obviously something local since you guys must be able to build and test. Any hints?<br>
The error for the present code in comm (Still wo building "test"):</p>
<blockquote>
<div class="codehilite"><pre><span></span><code>  6&gt;   Creating library C:/Builds/OCPN/OpenCPN/build/RelWithDebInfo/opencpn-cmd.lib and object C:/Builds/OCPN/OpenCPN/build/RelWithDebInfo/opencpn-cmd.exp
</code></pre></div>

<p>6&gt;comm_bridge.obj : error LNK2019: unresolved external symbol "enum AIS_Error __cdecl DecodeSingleVDO(class wxString const &amp;,struct GenericPosDatEx *)" (?DecodeSingleVDO@@YA?AW4AIS_Error@@ABVwxString@@PAUGenericPosDatEx@@@Z) referenced in function "public: bool __thiscall CommBridge::HandleN0183_AIVDO(class std::shared_ptr&lt;class Nmea0183Msg const &gt;)" (?HandleN0183_AIVDO@CommBridge@@QAE_NV?$shared_ptr@$$CBVNmea0183Msg@@@std@@@Z)<br>
6&gt;C:\Builds\OCPN\OpenCPN\build\RelWithDebInfo\opencpn-cmd.exe : fatal error LNK1120: 1 unresolved externals<br>
6&gt;Done building project "opencpn-cmd.vcxproj" -- FAILED.</p>
</blockquote>



<a name="297563459"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/297563459" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#297563459">(Sep 07 2022 at 10:49)</a>:</h4>
<p>After commits earlier today Windows builds, at least in Appveyor.</p>



<a name="297593171"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/297593171" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#297593171">(Sep 07 2022 at 13:35)</a>:</h4>
<p>Yes, after the last commits Win is built. Now also including "tests" project.<br>
Thanks /H</p>



<a name="297600069"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/297600069" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#297600069">(Sep 07 2022 at 14:14)</a>:</h4>
<p>You can run the tests on the command line, see test/README.md. However, we have irritating GUI message boxes for various asserts in libraries. IIRC, they are really hard to get rid of, like design mistakes in both Windows and wxWidgets cooperating :(</p>



<a name="297734384"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/297734384" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#297734384">(Sep 08 2022 at 08:59)</a>:</h4>
<p>Just a positive note....<br>
Using VS2017 to create a NSIS package is working flawless! <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="297854713"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/297854713" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#297854713">(Sep 08 2022 at 19:52)</a>:</h4>
<p><span class="user-mention" data-user-id="517002">@Dave Register</span> : There are MacOS builds till running on Github Actions, and they fail trying to build linux-specific can drivers. Error message in the very end: <a href="https://github.com/leamas/OpenCPN/runs/8257180008">https://github.com/leamas/OpenCPN/runs/8257180008</a></p>



<a name="298284184"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/298284184" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#298284184">(Sep 11 2022 at 19:42)</a>:</h4>
<p><span class="user-mention" data-user-id="399510">@Alec Leamas</span> <br>
On my local linux builds, I am getting errors building, specifically linking opencpn-cmd</p>
<div class="codehilite"><pre><span></span><code>CMakeFiles/opencpn-cmd.dir/src/ais_decoder.cpp.o: In function `onSoundFinished(void*)&#39;:
/home/dsr/Projects/opencpn/src/ais_decoder.cpp:152: undefined reference to `g_bquiting&#39;
/home/dsr/Projects/opencpn/src/ais_decoder.cpp:155: undefined reference to `g_pAIS&#39;
CMakeFiles/opencpn-cmd.dir/src/ais_decoder.cpp.o: In function `AisDecoder::Decode(wxString const&amp;)&#39;:
/home/dsr/Projects/opencpn/src/ais_decoder.cpp:1185: undefined reference to `g_default_wp_icon&#39;
/home/dsr/Projects/opencpn/src/ais_decoder.cpp:1187: undefined reference to `pSelect&#39;
CMakeFiles/opencpn-cmd.dir/src/ais_decoder.cpp.o: In function `AisDecoder::UpdateOneTrack(AisTargetData*)&#39;:
/home/dsr/Projects/opencpn/src/ais_decoder.cpp:2714: undefined reference to `pSelect&#39;
</code></pre></div>

<p>thoughts?</p>



<a name="298284227"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/298284227" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#298284227">(Sep 11 2022 at 19:43)</a>:</h4>
<p>Is this when building opencpn, opencpn-cmd or tests?</p>



<a name="298284278"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/298284278" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#298284278">(Sep 11 2022 at 19:43)</a>:</h4>
<p>If it is opencpn-cmd, we could perhaps leave for (just) now. I can look into it tomorrow.</p>



<a name="298284613"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/298284613" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#298284613">(Sep 11 2022 at 19:48)</a>:</h4>
<p>I am trying diligently to always build all three targets, for full coverage.  opencpn core build and runs fine.  tests does not build on my Windows machine, complaints about googletest, or something.<br>
This is not blocking me anywhere, so leave it for tonight.<br>
p.s.  You may note that MacOS  CI build is completing now.  Time to test....</p>



<a name="298284883"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/298284883" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#298284883">(Sep 11 2022 at 19:52)</a>:</h4>
<p>Tests builds on my windows machine, google test is downloaded and compiled from source by cmake. Can you attach the actual error when you are on Windows? no hurry.</p>



<a name="298775392"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/298775392" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#298775392">(Sep 14 2022 at 13:53)</a>:</h4>
<p>Using Win VS2017. Before I start to investigate does anyone know why inbound plugins (...Program Files (x86)\OpenCPN\plugins\)  Dashboard/WMM/Grib are not started by pluginmanager while running Debug (RelWithDebInfo)? <br>
Plugins from ...\AppData\Local\opencpn\plugins\ are started in Debug.</p>



<a name="298775730"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/298775730" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#298775730">(Sep 14 2022 at 13:55)</a>:</h4>
<p>Sorry, no.  I could investigate, if this is blocking your progress.</p>



<a name="298778258"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/298778258" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#298778258">(Sep 14 2022 at 14:08)</a>:</h4>
<p>Yes please. I'd like too see PGN content in Dashboard. I could use log messages but so to say a detour.</p>



<a name="298780153"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/298780153" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#298780153">(Sep 14 2022 at 14:18)</a>:</h4>
<p>"tests does not build on my Windows machine,"<br>
Please disregard.  configuration error on my side.</p>



<a name="299060229"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/299060229" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#299060229">(Sep 15 2022 at 22:14)</a>:</h4>
<p>Flatpak builds breaks in a very late stage, the signing key is expired. Needs a fix...</p>



<a name="299096070"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/299096070" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#299096070">(Sep 16 2022 at 06:04)</a>:</h4>
<p>Some Win VS2017 obstacles on last patch:</p>
<blockquote>
<p>6&gt;base_platform.cpp<br>
6&gt;C:\Builds\OCPN\OpenCPN\src\base_platform.cpp(751): error C2065: 'm_bdisableWindowsDisplayEnum': undeclared identifier<br>
6&gt;C:\Builds\OCPN\OpenCPN\src\base_platform.cpp(752): error C3861: 'GetWindowsMonitorSize': identifier not found<br>
6&gt;C:\Builds\OCPN\OpenCPN\src\base_platform.cpp(756): error C2065: 'm_bdisableWindowsDisplayEnum': undeclared identifier<br>
6&gt;Done building project "opencpn.vcxproj" -- FAILED.</p>
</blockquote>



<a name="299107676"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/299107676" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#299107676">(Sep 16 2022 at 07:46)</a>:</h4>
<p>Should be fixed right now, together with some missing libs<br>
<span class="user-mention" data-user-id="518981">@Github Bot</span>  #9f8149a</p>



<a name="299107850"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/299107850" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#299107850">(Sep 16 2022 at 07:47)</a>:</h4>
<p><span class="user-mention" data-user-id="518981">@Github Bot</span>  #9f8149a</p>



<a name="299107851"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/299107851" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Bot <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#299107851">(Sep 16 2022 at 07:47)</a>:</h4>
<p>** author: Alec Leamas at 2022-09-16T07:44:19Z<br>
CMakeLists: Windows: Fix missing libraries.<br>
<a href="https://github.com/OpenCPN/OpenCPN/commit/9f8149a">https://github.com/OpenCPN/OpenCPN/commit/9f8149a</a></p>



<a name="299112968"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/299112968" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#299112968">(Sep 16 2022 at 08:23)</a>:</h4>
<p>Yes, fixed! Thanks</p>



<a name="300099903"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/300099903" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#300099903">(Sep 22 2022 at 08:28)</a>:</h4>
<p>MacOS  is broken, assuming Dave is on it</p>



<a name="301955478"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/301955478" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#301955478">(Oct 02 2022 at 16:57)</a>:</h4>
<p>On Win10:<br>
Since several years I've a branch with some own adaptions to my Auto pilot. Two variables present in both options.cpp and routeman.cpp. Also in navutil.cpp for the config file as usual.<br>
I can't get it to build now due to errors from the new code. <br>
What's the method to satisfy opencpn-cmd.exe? (If I exclude that part it's not possible to make the installer package)</p>
<div class="codehilite"><pre><span></span><code>Creating library C:/Builds/OCPN/OpenCPN/build/RelWithDebInfo/opencpn-cmd.lib and object C:/Builds/OCPN/OpenCPN/build/RelWithDebInfo/opencpn-cmd.exp
routeman.obj : error LNK2001: unresolved external symbol &quot;bool g_bXTE_multiply&quot; (?g_bXTE_multiply@@3_NA)
routeman.obj : error LNK2001: unresolved external symbol &quot;double g_dXTE_multiplier&quot; (?g_dXTE_multiplier@@3NA)
C:\Builds\OCPN\OpenCPN\build\RelWithDebInfo\opencpn-cmd.exe : fatal error LNK1120: 2 unresolved externals
</code></pre></div>



<a name="301994335"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/301994335" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#301994335">(Oct 03 2022 at 03:37)</a>:</h4>
<p>I suppose the two new variables are declared in ocpn_app, like all the other globals?  The fail is because ocpn_app.cpp is not included in the opencpn-cmd.exe module set.</p>
<p>Quick fix would be to move your two new variables at the top of routeman.cpp, like:</p>
<div class="codehilite"><pre><span></span><code>bool g_bPluginHandleAutopilotRoute;
bool g_bXTE_multiply;
double g_dXTE_multiplier;
</code></pre></div>

<p>So, the two new vars will be declared in "routeman.cpp",  and "ext" in options.cpp and navutil.cpp.</p>



<a name="302004077"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/302004077" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#302004077">(Oct 03 2022 at 06:19)</a>:</h4>
<p>Works! Many thanks.<br>
So expressed with my own words and limited grip of the opencpn-cmd:<br>
The new ocpn_app.cpp is not a "umbrella" for the whole project like chart1.cpp was.<br>
A function with it's variables has to be declared where it's meant to be used and servisers like set it in options and save to config are (still) external calls.</p>



<a name="302034291"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/302034291" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#302034291">(Oct 03 2022 at 10:10)</a>:</h4>
<blockquote>
<p>The new ocpn_app.cpp is not a "umbrella" for the whole project like chart1.cpp was.</p>
</blockquote>
<p>One way to see it it: console.cpp is an umbrella for the source files listed in MODEL_SRC in CMakeLists.txt . This is a subset of the files used to build the opencpn  app, the subset which have no GUI dependencies.</p>
<p>The same applies for the unit tests, currently <em>test/tests.cpp</em> (more under way).  In both cases global variables often needs to be declared  to satisfy the linker. The basic problem is that we use global variables (bad idea we have to live with) and how we handle them (could be sanitized, for sure). See the Rants topic...</p>



<a name="302036664"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/302036664" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#302036664">(Oct 03 2022 at 10:29)</a>:</h4>
<p>OK, thanks for the info. I can't say I follow it all but will do my best.<br>
Could it be the GUI problem with icons and more described in Test issues has something to do with the split of "code" and GUI?</p>



<a name="304663601"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/304663601" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#304663601">(Oct 18 2022 at 12:03)</a>:</h4>
<p>Windows build fails on Appveyor. I'm on it, will take some time, occasionally having a life.</p>



<a name="304676722"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/304676722" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#304676722">(Oct 18 2022 at 13:21)</a>:</h4>
<p>Building life is really important as well. Doing it just now in the boat with a good book.</p>



<a name="304849518"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/304849518" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#304849518">(Oct 18 2022 at 22:11)</a>:</h4>
<p><a href="https://github.com/OpenCPN/OpenCPN/pull/2792">https://github.com/OpenCPN/OpenCPN/pull/2792</a> should fix windows builds</p>



<a name="304850261"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/304850261" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#304850261">(Oct 18 2022 at 22:17)</a>:</h4>
<p>MacOS builds:  We are duplicating MacOS builds, running on both CircleCI and Github actions.  A lot to maintain...</p>
<p>The Github Actions "macOS latest Homebrew wxOSX " fails constantly, possibly hiding other errors since we get used to failing builds. IMHO this build should be removed for now and be kept in that state until someone fixes it. Thoughts?</p>



<a name="304859849"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/304859849" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#304859849">(Oct 18 2022 at 23:55)</a>:</h4>
<p>"MacOS builds: We are duplicating MacOS builds, running on both CircleCI and Github actions."<br>
Why are we doing this?</p>



<a name="304877218"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/304877218" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#304877218">(Oct 19 2022 at 04:07)</a>:</h4>
<p>I will take a look at the Homebrew MacOS build.</p>



<a name="304887429"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/304887429" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#304887429">(Oct 19 2022 at 06:28)</a>:</h4>
<p>MacOS builds:  The Github Actions builds was introduced by Pavel quite recently. I had the impression that he just is more familiar with GA than CircleCI. Combined with a need to add more MacOS builds it ended up in the current situation.</p>



<a name="304887456"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/304887456" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#304887456">(Oct 19 2022 at 06:28)</a>:</h4>
<p>Now builds on Win and some old warnings gone as well. Thanks.<br>
Test issues though..</p>



<a name="305066219"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/305066219" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#305066219">(Oct 20 2022 at 01:23)</a>:</h4>
<p>I am going to remove the offending build from GA.  The failed build may relate to multi-arch support for Apple M1 silicon, which is a real can of worms.<br>
Will wait for input from Pavel on this platform.</p>



<a name="306579226"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/306579226" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#306579226">(Oct 28 2022 at 03:59)</a>:</h4>
<p><span class="user-mention" data-user-id="399510">@Alec Leamas</span> <br>
What are the github GA workflows for "zulip" about?  Are they supposed to work?</p>



<a name="306597506"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/306597506" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#306597506">(Oct 28 2022 at 07:36)</a>:</h4>
<p>They are unfinished work aiming to get build messages into the stream <em>CI</em>. Yet not completed, please just leave them in place (the current main issue here is the CircleCI builds where some work in the Zulip community seems stalled).</p>



<a name="308995242"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/308995242" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#308995242">(Nov 10 2022 at 14:04)</a>:</h4>
<p><span class="user-mention" data-user-id="399510">@Alec Leamas</span> <br>
Note failure of flatpak CI build.  Fails due to missing access to Pavel's server for some keys.<br>
Thoughts?</p>



<a name="308999379"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/308999379" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#308999379">(Nov 10 2022 at 14:24)</a>:</h4>
<p>We need a working solution for binary up- and downloads. Pavel's server offers (offered?) the possibility to use rsync, this is needed to handle the large flatpak transfers reasonably efficient.</p>
<p>So, we need rsync. But even disregarding this, I think we need a better solution. Using <a href="http://opencpn.org">opencpn.org</a> obviously has drawbacks (bad urls, tensions with the host company). </p>
<p>Using cloudsmith works like a charm, but if/when we distribute stuff we don't have developed ourselves we break their rules (last time I checked).   EDIT: And they don't support rsync.</p>
<p>So, we need something supporting rsync where we can distribute binary files. The closest I come is actually sourceforge which does support rsync,  a bit unsure if they can handle password-less key authentication for that.   Sourceforge works otherwise great for distributing stuff. </p>
<p>You have an opencpn account on sf, perhaps you could let me in there.  But running out of time anyway...</p>



<a name="315053447"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/315053447" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#315053447">(Dec 10 2022 at 10:24)</a>:</h4>
<p>On Windows.<br>
Since we have added use of local changes to OpenCPN repository.<br>
I experienced an obvious risk to upload .\cache to Github master by a PR with other changes. (Big files!)<br>
One method to avoid this could be to never build, and create .\cache, locally on master branch but on a own like "myocpn" or similar.<br>
Then when PR a patch do it from a branch created from master and cherry-pick the commit from "myocpn".<br>
Thoughts?  More sophisticated methods? (Maybe add something to "Compiling Windows" manual?)</p>



<a name="315056521"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/315056521" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Rossiter <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#315056521">(Dec 10 2022 at 10:48)</a>:</h4>
<p>How about adding <em>OpenCPN/cache</em> to <em>.gitignore</em> in the master branch?</p>



<a name="315056610"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/315056610" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mike Rossiter <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#315056610">(Dec 10 2022 at 10:49)</a>:</h4>
<p><em>build</em> is already there.</p>



<a name="315120015"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/315120015" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#315120015">(Dec 10 2022 at 19:33)</a>:</h4>
<p>Men</p>



<a name="315127815"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/315127815" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#315127815">(Dec 10 2022 at 21:12)</a>:</h4>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="332168" href="/#narrow/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/it.20should.20be.20in.20.2Egitignore.2E.20If.20not.2C.20it.20is.20a.20bug.2E.20In.20haste.2E.2E.2E">#Master - 5.8.0  (was: comms) &gt; it should be in .gitignore. If not, it is a bug. In haste...</a> by <span class="user-mention silent" data-user-id="399510">Alec Leamas</span>.</p>



<a name="315128319"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/315128319" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#315128319">(Dec 10 2022 at 21:18)</a>:</h4>
<p><a href="https://github.com/OpenCPN/OpenCPN/pull/2864">https://github.com/OpenCPN/OpenCPN/pull/2864</a></p>



<a name="315397580"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/315397580" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#315397580">(Dec 12 2022 at 15:43)</a>:</h4>
<p>Adding /cache to .gitignore is of course the solution. Sorry for that noise. Thanks.<br>
But also /Buildwin may need more exceptions? Like the different .7z files.   ( .7z  .7z1 ) created by the .bat file.</p>



<a name="315398810"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/315398810" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#315398810">(Dec 12 2022 at 15:49)</a>:</h4>
<p>Basically I don't think buildwin/ needs any more files to exclude, the goal is that no temporary files should be created there. That the .7z files are created there is just sloppy programming from my side, they could and should live elsewhere (build/ or cache/).  This is a bug, I need to fix that for sure.</p>



<a name="315456683"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/315456683" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#315456683">(Dec 12 2022 at 20:33)</a>:</h4>
<p>Agree, very good.</p>



<a name="317846911"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/317846911" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#317846911">(Dec 25 2022 at 15:11)</a>:</h4>
<p>For build on Windows.<br>
In directory  .\build\RelWithDebInfo we need a folder \plugins\ to collect plugin binaries to run a local debug.<br>
Now the cmake build system creates a file "plugins" instead of the folder "\plugins\". <br>
Obviously the file folder \plugins\ is not found and have to be created manually after first cmake .. (After deletion of the file plugins)<br>
I haven't found the place where the setup to create the .\build\RelWithDebInfo\plugins\ is done to possible correct it. Please advice or tweak. Thanks/ Håkan</p>



<a name="317851089"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/317851089" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#317851089">(Dec 25 2022 at 15:51)</a>:</h4>
<p>FIrst: I have started to build <em>Release</em> rather than <em>RelWithDebInfo</em>. However, the appveyor.bat still defaults to RelWithDebInfo. Please work around by setting the environment variable <code>CONFIGURATION=Release</code>for now.</p>
<p>Looking into the <em>build\Release</em> directory I  don't find anything named <em>plugins</em> </p>
<div class="codehilite"><pre><span></span><code>DESKTOP-VPDSRM1 MINGW64 ~/src/shipdriver_pi/build (sd3.2.1)
$ cd Release/

DESKTOP-VPDSRM1 MINGW64 ~/src/shipdriver_pi/build/Release (sd3.2.1)
$ pwd
/c/Users/micha/src/shipdriver_pi/build/Release

DESKTOP-VPDSRM1 MINGW64 ~/src/shipdriver_pi/build/Release (sd3.2.1)
$ find . -name plugins

DESKTOP-VPDSRM1 MINGW64 ~/src/shipdriver_pi/build/Release (sd3.2.1)
$
</code></pre></div>
<p>What am I missing?</p>



<a name="317852070"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/317852070" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#317852070">(Dec 25 2022 at 16:00)</a>:</h4>
<blockquote>
<p>It diffs in "A64" instead of "arm64" and "64-11" instead of "64:11"</p>
</blockquote>
<p>This does not actually matter, the file names are arbitrary. When looking up a plugin in the catalog, the catalog contains the correct filename, and that's that. </p>
<p>What makes a plugin compatible or not is only about the <code>&lt;target&gt;</code>  item in the catalog  and also in the xml metadata bundled with the plugin.</p>



<a name="317852572"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/317852572" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#317852572">(Dec 25 2022 at 16:05)</a>:</h4>
<blockquote>
<p>Please work around by setting the environment variable CONFIGURATION=Release for now.</p>
</blockquote>
<p>Please why so?<br>
When I build both project OCPN and extern plugins for RelWithDebInfo I can use the same build to both Debug O and plugins as well produce executable to run O and make a package for test runs. Very handy. What's the problem?</p>
<p>If core O is built for Release that's good but "not my local business"? </p>
<p>I've also tried to find where the file "plugins" is set to be created (instead of a directory). I also couldn't. But it's created by first cmake..  There is also some binary content in the file. But no one is sad when deleted.</p>



<a name="317855890"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/317855890" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alec Leamas <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#317855890">(Dec 25 2022 at 16:41)</a>:</h4>
<p>It's a linkage question. But as long as the build works,  no need to bother besides to come to the same base line as I'm using.</p>
<p>The core issue is of course why I cannot reproduce your <em>plugins</em> file.</p>



<a name="339534544"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/339534544" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#339534544">(Mar 04 2023 at 11:24)</a>:</h4>
<p>Today's master<br>
I updated the wx prebuilt binaries to e.g. wxMSW-3.2.2_vc14x...<br>
No problem with that.<br>
When running debug I get the message as of below picture.<br>
Anyone seen a solution to share before I try find the cause.<br>
To Eng: "The procedure start address couldn't be found"<br>
<a href="/user_uploads/33951/v6b2u8y7ib5NzVDpa5dH5DJx/bild.png">bild.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/33951/v6b2u8y7ib5NzVDpa5dH5DJx/bild.png" title="bild.png"><img src="/user_uploads/33951/v6b2u8y7ib5NzVDpa5dH5DJx/bild.png"></a></div><p>Build output:</p>
<blockquote>
<p>'opencpn.exe' (Win32): Loaded 'C:\Windows\WinSxS\x86_microsoft.windows.common-controls_6595b64144ccf1df_6.0.19041.1110_none_a8625c1886757984\comctl32.dll'. <br>
'opencpn.exe' (Win32): Loaded 'C:\Windows\SysWOW64\winspool.drv'. <br>
'opencpn.exe' (Win32): Loaded 'C:\Windows\SysWOW64\winmm.dll'. <br>
'opencpn.exe' (Win32): Loaded 'C:\Windows\SysWOW64\msimg32.dll'. <br>
'opencpn.exe' (Win32): Loaded 'C:\Builds\OCPN\OpenCPN\build\RelWithDebInfo\libeay32.dll'. <br>
'opencpn.exe' (Win32): Loaded 'C:\Builds\OCPN\OpenCPN\build\RelWithDebInfo\libeay32.dll'. <br>
'opencpn.exe' (Win32): Unloaded 'C:\Builds\OCPN\OpenCPN\build\RelWithDebInfo\libeay32.dll'<br>
'opencpn.exe' (Win32): Loaded 'C:\Windows\SysWOW64\oleacc.dll'.</p>
</blockquote>



<a name="339570057"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/339570057" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Håkan Svensson <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#339570057">(Mar 04 2023 at 14:57)</a>:</h4>
<p>Above "MSWUpdateFontOnDPIChange@wxTopLevelWindowsMSW@@MAEXABVwxSize@@@Z" obstacle solved.</p>
<p>I let VS2022 create the installer package and then files needed for wx 3.2.2 was installed and runtime works. So after copying the new files to \build also Debug does run smoothly.</p>



<a name="339571340"></a>
<h4><a href="https://opencpn.zulipchat.com#narrow/stream/332168-Master%20-%205.8.0%20%20%28was%3A%20comms%29/topic/Build%20status/near/339571340" class="zl"><img src="https://leamas.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dave Register <a href="https://leamas.github.io/zulip-archive/stream/332168-Master---5.2E8.2E0--.28was.3A-comms.29/topic/Build.20status.html#339571340">(Mar 04 2023 at 15:06)</a>:</h4>
<p><span class="user-mention" data-user-id="522486">@Håkan Svensson</span> <br>
I had the same trouble updating locally to wx322.  Solved by similar procedure.  Did not investigate fully the trouble, but confirmed that OCPN build by CI workflow loads and runs correctly. So all is well.</p>



<hr><p>Last updated: Jan 02 2025 at 18:14 UTC</p>
</html>